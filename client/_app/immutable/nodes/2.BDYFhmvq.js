import{r as Jr,h as is,s as He,n as Oe,f as rs,R as gt}from"../chunks/scheduler.2Iq1zJtK.js";import{t as se,S as Be,i as Fe,m as ne,j as J,q as ls,a as fe,n as as,g as T,y as j,z as K,d as P,A as Pl,o as d,k as v,B as ve,b as x,f as Y,l as Ce,e as z,u as ce,c as V,v as de,w as ge,C as mt,x as me,D as fi,s as F,h as q,E as oe,p as sn}from"../chunks/index.zlyRD2dz.js";function Q(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function os(e,t){e.d(1),t.delete(e.key)}function ss(e,t,n,i,r,l,a,o,g,u,f,c){let s=e.length,h=l.length,_=s;const y={};for(;_--;)y[e[_].key]=_;const R=[],p=new Map,b=new Map,m=[];for(_=h;_--;){const N=c(r,l,_),O=n(N);let k=a.get(O);k?i&&m.push(()=>k.p(N,t)):(k=u(O,N),k.c()),p.set(O,R[_]=k),O in y&&b.set(O,Math.abs(_-y[O]))}const w=new Set,M=new Set;function C(N){se(N,1),N.m(o,f),a.set(N.key,N),f=N.first,h--}for(;s&&h;){const N=R[h-1],O=e[s-1],k=N.key,I=O.key;N===O?(f=N.first,s--,h--):p.has(I)?!a.has(k)||w.has(k)?C(N):M.has(I)?s--:b.get(k)>b.get(I)?(M.add(k),C(N)):(w.add(I),s--):(g(O,a),s--)}for(;s--;){const N=e[s];p.has(N.key)||g(N,a)}for(;h;)C(R[h-1]);return Jr(m),R}function li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function To(e){let t,n,i;e.length!==2?(t=li,n=(o,g)=>li(e(o),g),i=(o,g)=>e(o)-g):(t=e===li||e===Qr?e:fs,n=e,i=e);function r(o,g,u=0,f=o.length){if(u<f){if(t(g,g)!==0)return f;do{const c=u+f>>>1;n(o[c],g)<0?u=c+1:f=c}while(u<f)}return u}function l(o,g,u=0,f=o.length){if(u<f){if(t(g,g)!==0)return f;do{const c=u+f>>>1;n(o[c],g)<=0?u=c+1:f=c}while(u<f)}return u}function a(o,g,u=0,f=o.length){const c=r(o,g,u,f-1);return c>u&&i(o[c-1],g)>-i(o[c],g)?c-1:c}return{left:r,center:a,right:l}}function fs(){return 0}function us(e){return e===null?NaN:+e}const hs=To(li),So=hs.right;To(us).center;function cs(e,t){let n=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&++n;else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(r=+r)>=r&&++n}return n}function _r(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let l of e)(l=t(l,++r,e))!=null&&(n===void 0?l>=l&&(n=i=l):(n>l&&(n=l),i<l&&(i=l)))}return[n,i]}class Zt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],a=t+l,o=Math.abs(t)<Math.abs(l)?t-(a-l):l-(a-t);o&&(n[i++]=o),t=a}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,l,a=0;if(n>0){for(a=t[--n];n>0&&(i=a,r=t[--n],a=i+r,l=r-(a-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(r=l*2,i=a+r,r==i-a&&(a=i))}return a}}class Hl extends Map{constructor(t,n=ms){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(zl(this,t))}has(t){return super.has(zl(this,t))}set(t,n){return super.set(ds(this,t),n)}delete(t){return super.delete(gs(this,t))}}function zl({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function ds({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function gs({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function ms(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _s(e){return e}var ps=Array.prototype,vs=ps.slice;function pr(e){return()=>e}const ws=Math.sqrt(50),ys=Math.sqrt(10),bs=Math.sqrt(2);function ui(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),l=i/Math.pow(10,r),a=l>=ws?10:l>=ys?5:l>=bs?2:1;let o,g,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(e*u),g=Math.round(t*u),o/u<e&&++o,g/u>t&&--g,u=-u):(u=Math.pow(10,r)*a,o=Math.round(e/u),g=Math.round(t/u),o*u<e&&++o,g*u>t&&--g),g<o&&.5<=n&&n<2?ui(e,t,n*2):[o,g,u]}function Eo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,l,a]=i?ui(t,e,n):ui(e,t,n);if(!(l>=r))return[];const o=l-r+1,g=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)g[u]=(l-u)/-a;else for(let u=0;u<o;++u)g[u]=(l-u)*a;else if(a<0)for(let u=0;u<o;++u)g[u]=(r+u)/-a;else for(let u=0;u<o;++u)g[u]=(r+u)*a;return g}function cn(e,t,n){return t=+t,e=+e,n=+n,ui(e,t,n)[2]}function Rs(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?cn(t,e,n):cn(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function Cs(e,t,n){let i;for(;;){const r=cn(e,t,n);if(r===i||r===0||!isFinite(r))return[e,t];r>0?(e=Math.floor(e/r)*r,t=Math.ceil(t/r)*r):r<0&&(e=Math.ceil(e*r)/r,t=Math.floor(t*r)/r),i=r}}function Ts(e){return Math.max(1,Math.ceil(Math.log(cs(e))/Math.LN2)+1)}function Ss(){var e=_s,t=_r,n=Ts;function i(r){Array.isArray(r)||(r=Array.from(r));var l,a=r.length,o,g,u=new Array(a);for(l=0;l<a;++l)u[l]=e(r[l],l,r);var f=t(u),c=f[0],s=f[1],h=n(u,c,s);if(!Array.isArray(h)){const m=s,w=+h;if(t===_r&&([c,s]=Cs(c,s,w)),h=Eo(c,s,w),h[0]<=c&&(g=cn(c,s,w)),h[h.length-1]>=s)if(m>=s&&t===_r){const M=cn(c,s,w);isFinite(M)&&(M>0?s=(Math.floor(s/M)+1)*M:M<0&&(s=(Math.ceil(s*-M)+1)/-M))}else h.pop()}for(var _=h.length,y=0,R=_;h[y]<=c;)++y;for(;h[R-1]>s;)--R;(y||R<_)&&(h=h.slice(y,R),_=R-y);var p=new Array(_+1),b;for(l=0;l<=_;++l)b=p[l]=[],b.x0=l>0?h[l-1]:c,b.x1=l<_?h[l]:s;if(isFinite(g)){if(g>0)for(l=0;l<a;++l)(o=u[l])!=null&&c<=o&&o<=s&&p[Math.min(_,Math.floor((o-c)/g))].push(r[l]);else if(g<0){for(l=0;l<a;++l)if((o=u[l])!=null&&c<=o&&o<=s){const m=Math.floor((c-o)*g);p[Math.min(_,m+(h[m]<=o))].push(r[l])}}}else for(l=0;l<a;++l)(o=u[l])!=null&&c<=o&&o<=s&&p[So(h,o,0,_)].push(r[l]);return p}return i.value=function(r){return arguments.length?(e=typeof r=="function"?r:pr(r),i):e},i.domain=function(r){return arguments.length?(t=typeof r=="function"?r:pr([r[0],r[1]]),i):t},i.thresholds=function(r){return arguments.length?(n=typeof r=="function"?r:pr(Array.isArray(r)?vs.call(r):r),i):n},i}function _t(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Rn(e,t){let n=0,i=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let l of e)(l=t(l,++r,e))!=null&&(l=+l)>=l&&(++n,i+=l)}if(n)return i/n}function*Es(e){for(const t of e)yield*t}function Mo(e){return Array.from(Es(e))}function Ms(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(r);++i<r;)l[i]=e+i*n;return l}function Xt(e,t){let n=0;if(t===void 0)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}function $r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ko(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Pn(){}var In=.7,hi=1/In,fn="\\s*([+-]?\\d+)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ks=/^#([0-9a-f]{3,8})$/,Os=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),Is=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),As=new RegExp(`^rgba\\(${fn},${fn},${fn},${An}\\)$`),Ls=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${An}\\)$`),Ds=new RegExp(`^hsl\\(${An},${Xe},${Xe}\\)$`),Ns=new RegExp(`^hsla\\(${An},${Xe},${Xe},${An}\\)$`),Vl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$r(Pn,Ln,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ul,formatHex:Ul,formatHex8:Ps,formatHsl:Hs,formatRgb:Bl,toString:Bl});function Ul(){return this.rgb().formatHex()}function Ps(){return this.rgb().formatHex8()}function Hs(){return Oo(this).formatHsl()}function Bl(){return this.rgb().formatRgb()}function Ln(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ks.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Fl(t):n===3?new ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Os.exec(e))?new ke(t[1],t[2],t[3],1):(t=Is.exec(e))?new ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=As.exec(e))?jn(t[1],t[2],t[3],t[4]):(t=Ls.exec(e))?jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ds.exec(e))?Wl(t[1],t[2]/100,t[3]/100,1):(t=Ns.exec(e))?Wl(t[1],t[2]/100,t[3]/100,t[4]):Vl.hasOwnProperty(e)?Fl(Vl[e]):e==="transparent"?new ke(NaN,NaN,NaN,0):null}function Fl(e){return new ke(e>>16&255,e>>8&255,e&255,1)}function jn(e,t,n,i){return i<=0&&(e=t=n=NaN),new ke(e,t,n,i)}function zs(e){return e instanceof Pn||(e=Ln(e)),e?(e=e.rgb(),new ke(e.r,e.g,e.b,e.opacity)):new ke}function Or(e,t,n,i){return arguments.length===1?zs(e):new ke(e,t,n,i??1)}function ke(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}$r(ke,Or,ko(Pn,{brighter(e){return e=e==null?hi:Math.pow(hi,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?In:Math.pow(In,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ke(Kt(this.r),Kt(this.g),Kt(this.b),ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ql,formatHex:ql,formatHex8:Vs,formatRgb:Gl,toString:Gl}));function ql(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}`}function Vs(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}${jt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gl(){const e=ci(this.opacity);return`${e===1?"rgb(":"rgba("}${Kt(this.r)}, ${Kt(this.g)}, ${Kt(this.b)}${e===1?")":`, ${e})`}`}function ci(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jt(e){return e=Kt(e),(e<16?"0":"")+e.toString(16)}function Wl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ue(e,t,n,i)}function Oo(e){if(e instanceof Ue)return new Ue(e.h,e.s,e.l,e.opacity);if(e instanceof Pn||(e=Ln(e)),!e)return new Ue;if(e instanceof Ue)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),l=Math.max(t,n,i),a=NaN,o=l-r,g=(l+r)/2;return o?(t===l?a=(n-i)/o+(n<i)*6:n===l?a=(i-t)/o+2:a=(t-n)/o+4,o/=g<.5?l+r:2-l-r,a*=60):o=g>0&&g<1?0:a,new Ue(a,o,g,e.opacity)}function Us(e,t,n,i){return arguments.length===1?Oo(e):new Ue(e,t,n,i??1)}function Ue(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}$r(Ue,Us,ko(Pn,{brighter(e){return e=e==null?hi:Math.pow(hi,e),new Ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?In:Math.pow(In,e),new Ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ke(vr(e>=240?e-240:e+120,r,i),vr(e,r,i),vr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Ue(xl(this.h),Kn(this.s),Kn(this.l),ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ci(this.opacity);return`${e===1?"hsl(":"hsla("}${xl(this.h)}, ${Kn(this.s)*100}%, ${Kn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xl(e){return e=(e||0)%360,e<0?e+360:e}function Kn(e){return Math.max(0,Math.min(1,e||0))}function vr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const el=e=>()=>e;function Bs(e,t){return function(n){return e+n*t}}function Fs(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function qs(e){return(e=+e)==1?Io:function(t,n){return n-t?Fs(t,n,e):el(isNaN(t)?n:t)}}function Io(e,t){var n=t-e;return n?Bs(e,n):el(isNaN(e)?t:e)}const Yl=function e(t){var n=qs(t);function i(r,l){var a=n((r=Or(r)).r,(l=Or(l)).r),o=n(r.g,l.g),g=n(r.b,l.b),u=Io(r.opacity,l.opacity);return function(f){return r.r=a(f),r.g=o(f),r.b=g(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function Gs(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(l){for(r=0;r<n;++r)i[r]=e[r]*(1-l)+t[r]*l;return i}}function Ws(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xs(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),l=new Array(n),a;for(a=0;a<i;++a)r[a]=tl(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(o){for(a=0;a<i;++a)l[a]=r[a](o);return l}}function Ys(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function di(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Xs(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=tl(e[r],t[r]):i[r]=t[r];return function(l){for(r in n)i[r]=n[r](l);return i}}var Ir=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wr=new RegExp(Ir.source,"g");function js(e){return function(){return e}}function Ks(e){return function(t){return e(t)+""}}function Zs(e,t){var n=Ir.lastIndex=wr.lastIndex=0,i,r,l,a=-1,o=[],g=[];for(e=e+"",t=t+"";(i=Ir.exec(e))&&(r=wr.exec(t));)(l=r.index)>n&&(l=t.slice(n,l),o[a]?o[a]+=l:o[++a]=l),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,g.push({i:a,x:di(i,r)})),n=wr.lastIndex;return n<t.length&&(l=t.slice(n),o[a]?o[a]+=l:o[++a]=l),o.length<2?g[0]?Ks(g[0].x):js(t):(t=g.length,function(u){for(var f=0,c;f<t;++f)o[(c=g[f]).i]=c.x(u);return o.join("")})}function tl(e,t){var n=typeof t,i;return t==null||n==="boolean"?el(t):(n==="number"?di:n==="string"?(i=Ln(t))?(t=i,Yl):Zs:t instanceof Ln?Yl:t instanceof Date?Ys:Ws(t)?Gs:Array.isArray(t)?xs:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xs:di)(e,t)}function Js(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Ar=Math.PI,Lr=2*Ar,Yt=1e-6,Qs=Lr-Yt;function Ao(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function $s(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ao;const n=10**t;return function(i){this._+=i[0];for(let r=1,l=i.length;r<l;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class ef{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ao:$s(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,n,i,r,l,a){this._append`C${+t},${+n},${+i},${+r},${this._x1=+l},${this._y1=+a}`}arcTo(t,n,i,r,l){if(t=+t,n=+n,i=+i,r=+r,l=+l,l<0)throw new Error(`negative radius: ${l}`);let a=this._x1,o=this._y1,g=i-t,u=r-n,f=a-t,c=o-n,s=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(s>Yt)if(!(Math.abs(c*g-u*f)>Yt)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let h=i-a,_=r-o,y=g*g+u*u,R=h*h+_*_,p=Math.sqrt(y),b=Math.sqrt(s),m=l*Math.tan((Ar-Math.acos((y+s-R)/(2*p*b)))/2),w=m/b,M=m/p;Math.abs(w-1)>Yt&&this._append`L${t+w*f},${n+w*c}`,this._append`A${l},${l},0,0,${+(c*h>f*_)},${this._x1=t+M*g},${this._y1=n+M*u}`}}arc(t,n,i,r,l,a){if(t=+t,n=+n,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),g=i*Math.sin(r),u=t+o,f=n+g,c=1^a,s=a?r-l:l-r;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Yt||Math.abs(this._y1-f)>Yt)&&this._append`L${u},${f}`,i&&(s<0&&(s=s%Lr+Lr),s>Qs?this._append`A${i},${i},0,1,${c},${t-o},${n-g}A${i},${i},0,1,${c},${this._x1=u},${this._y1=f}`:s>Yt&&this._append`A${i},${i},0,${+(s>=Ar)},${c},${this._x1=t+i*Math.cos(l)},${this._y1=n+i*Math.sin(l)}`)}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function tf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function dn(e){return e=gi(Math.abs(e)),e?e[1]:NaN}function nf(e,t){return function(n,i){for(var r=n.length,l=[],a=0,o=e[0],g=0;r>0&&o>0&&(g+o+1>i&&(o=Math.max(1,i-g)),l.push(n.substring(r-=o,r+o)),!((g+=o+1)>i));)o=e[a=(a+1)%e.length];return l.reverse().join(t)}}function rf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var lf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mi(e){if(!(t=lf.exec(e)))throw new Error("invalid format: "+e);var t;return new nl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mi.prototype=nl.prototype;function nl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function af(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Lo;function of(e,t){var n=gi(e,t);if(!n)return e+"";var i=n[0],r=n[1],l=r-(Lo=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return l===a?i:l>a?i+new Array(l-a+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+gi(e,Math.max(0,t+l-1))[0]}function Xl(e,t){var n=gi(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const jl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xl(e*100,t),r:Xl,s:of,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kl(e){return e}var Zl=Array.prototype.map,Jl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sf(e){var t=e.grouping===void 0||e.thousands===void 0?Kl:nf(Zl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Kl:rf(Zl.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",g=e.nan===void 0?"NaN":e.nan+"";function u(c){c=mi(c);var s=c.fill,h=c.align,_=c.sign,y=c.symbol,R=c.zero,p=c.width,b=c.comma,m=c.precision,w=c.trim,M=c.type;M==="n"?(b=!0,M="g"):jl[M]||(m===void 0&&(m=12),w=!0,M="g"),(R||s==="0"&&h==="=")&&(R=!0,s="0",h="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",N=y==="$"?i:/[%p]/.test(M)?a:"",O=jl[M],k=/[defgprs%]/.test(M);m=m===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function I(L){var E=C,H=N,U,S,B;if(M==="c")H=O(L)+H,L="";else{L=+L;var A=L<0||1/L<0;if(L=isNaN(L)?g:O(Math.abs(L),m),w&&(L=af(L)),A&&+L==0&&_!=="+"&&(A=!1),E=(A?_==="("?_:o:_==="-"||_==="("?"":_)+E,H=(M==="s"?Jl[8+Lo/3]:"")+H+(A&&_==="("?")":""),k){for(U=-1,S=L.length;++U<S;)if(B=L.charCodeAt(U),48>B||B>57){H=(B===46?r+L.slice(U+1):L.slice(U))+H,L=L.slice(0,U);break}}}b&&!R&&(L=t(L,1/0));var W=E.length+L.length+H.length,D=W<p?new Array(p-W+1).join(s):"";switch(b&&R&&(L=t(D+L,D.length?p-H.length:1/0),D=""),h){case"<":L=E+L+H+D;break;case"=":L=E+D+L+H;break;case"^":L=D.slice(0,W=D.length>>1)+E+L+H+D.slice(W);break;default:L=D+E+L+H;break}return l(L)}return I.toString=function(){return c+""},I}function f(c,s){var h=u((c=mi(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(dn(s)/3)))*3,y=Math.pow(10,-_),R=Jl[8+_/3];return function(p){return h(y*p)+R}}return{format:u,formatPrefix:f}}var Zn,Do,No;ff({thousands:",",grouping:[3],currency:["$",""]});function ff(e){return Zn=sf(e),Do=Zn.format,No=Zn.formatPrefix,Zn}function uf(e){return Math.max(0,-dn(Math.abs(e)))}function hf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dn(t)/3)))*3-dn(Math.abs(e)))}function cf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dn(t)-dn(e))+1}var le=1e-6,df=1e-12,re=Math.PI,Ae=re/2,Ql=re/4,Pe=re*2,Ve=180/re,Te=re/180,he=Math.abs,gf=Math.atan,gn=Math.atan2,_e=Math.cos,ue=Math.sin,ai=Math.sign||function(e){return e>0?1:e<0?-1:0},et=Math.sqrt;function mf(e){return e>1?0:e<-1?re:Math.acos(e)}function Jt(e){return e>1?Ae:e<-1?-Ae:Math.asin(e)}function Le(){}function _i(e,t){e&&ea.hasOwnProperty(e.type)&&ea[e.type](e,t)}var $l={Feature:function(e,t){_i(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)_i(n[i].geometry,t)}},ea={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Dr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Dr(n[i],t,0)},Polygon:function(e,t){ta(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)ta(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)_i(n[i],t)}};function Dr(e,t,n){var i=-1,r=e.length-n,l;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function ta(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Dr(e[n],t,1);t.polygonEnd()}function ln(e,t){e&&$l.hasOwnProperty(e.type)?$l[e.type](e,t):_i(e,t)}function Nr(e){return[gn(e[1],e[0]),Jt(e[2])]}function mn(e){var t=e[0],n=e[1],i=_e(n);return[i*_e(t),i*ue(t),ue(n)]}function Jn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pi(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Qn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Pr(e){var t=et(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Hr(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function zr(e,t){return he(e)>re&&(e-=Math.round(e/Pe)*Pe),[e,t]}zr.invert=zr;function _f(e,t,n){return(e%=Pe)?t||n?Hr(ia(e),ra(t,n)):ia(e):t||n?ra(t,n):zr}function na(e){return function(t,n){return t+=e,he(t)>re&&(t-=Math.round(t/Pe)*Pe),[t,n]}}function ia(e){var t=na(e);return t.invert=na(-e),t}function ra(e,t){var n=_e(e),i=ue(e),r=_e(t),l=ue(t);function a(o,g){var u=_e(g),f=_e(o)*u,c=ue(o)*u,s=ue(g),h=s*n+f*i;return[gn(c*r-h*l,f*n-s*i),Jt(h*r+c*l)]}return a.invert=function(o,g){var u=_e(g),f=_e(o)*u,c=ue(o)*u,s=ue(g),h=s*r-c*l;return[gn(c*r+s*l,f*n+h*i),Jt(h*n-f*i)]},a}function pf(e,t,n,i,r,l){if(n){var a=_e(t),o=ue(t),g=i*n;r==null?(r=t+i*Pe,l=t-g/2):(r=la(a,r),l=la(a,l),(i>0?r<l:r>l)&&(r+=i*Pe));for(var u,f=r;i>0?f>l:f<l;f-=g)u=Nr([a,-o*_e(f),-o*ue(f)]),e.point(u[0],u[1])}}function la(e,t){t=mn(t),t[0]-=e,Pr(t);var n=mf(-t[1]);return((-t[2]<0?-n:n)+Pe-le)%Pe}function Po(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:Le,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function oi(e,t){return he(e[0]-t[0])<le&&he(e[1]-t[1])<le}function $n(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ho(e,t,n,i,r){var l=[],a=[],o,g;if(e.forEach(function(_){if(!((y=_.length-1)<=0)){var y,R=_[0],p=_[y],b;if(oi(R,p)){if(!R[2]&&!p[2]){for(r.lineStart(),o=0;o<y;++o)r.point((R=_[o])[0],R[1]);r.lineEnd();return}p[0]+=2*le}l.push(b=new $n(R,_,null,!0)),a.push(b.o=new $n(R,null,b,!1)),l.push(b=new $n(p,_,null,!1)),a.push(b.o=new $n(p,null,b,!0))}}),!!l.length){for(a.sort(t),aa(l),aa(a),o=0,g=a.length;o<g;++o)a[o].e=n=!n;for(var u=l[0],f,c;;){for(var s=u,h=!0;s.v;)if((s=s.n)===u)return;f=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(o=0,g=f.length;o<g;++o)r.point((c=f[o])[0],c[1]);else i(s.x,s.n.x,1,r);s=s.n}else{if(h)for(f=s.p.z,o=f.length-1;o>=0;--o)r.point((c=f[o])[0],c[1]);else i(s.x,s.p.x,-1,r);s=s.p}s=s.o,f=s.z,h=!h}while(!s.v);r.lineEnd()}}}function aa(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function br(e){return he(e[0])<=re?e[0]:ai(e[0])*((he(e[0])+re)%Pe-re)}function vf(e,t){var n=br(t),i=t[1],r=ue(i),l=[ue(n),-_e(n),0],a=0,o=0,g=new Zt;r===1?i=Ae+le:r===-1&&(i=-Ae-le);for(var u=0,f=e.length;u<f;++u)if(s=(c=e[u]).length)for(var c,s,h=c[s-1],_=br(h),y=h[1]/2+Ql,R=ue(y),p=_e(y),b=0;b<s;++b,_=w,R=C,p=N,h=m){var m=c[b],w=br(m),M=m[1]/2+Ql,C=ue(M),N=_e(M),O=w-_,k=O>=0?1:-1,I=k*O,L=I>re,E=R*C;if(g.add(gn(E*k*ue(I),p*N+E*_e(I))),a+=L?O+k*Pe:O,L^_>=n^w>=n){var H=pi(mn(h),mn(m));Pr(H);var U=pi(l,H);Pr(U);var S=(L^O>=0?-1:1)*Jt(U[2]);(i>S||i===S&&(H[0]||H[1]))&&(o+=L^O>=0?1:-1)}}return(a<-le||a<le&&g<-df)^o&1}function zo(e,t,n,i){return function(r){var l=t(r),a=Po(),o=t(a),g=!1,u,f,c,s={point:h,lineStart:y,lineEnd:R,polygonStart:function(){s.point=p,s.lineStart=b,s.lineEnd=m,f=[],u=[]},polygonEnd:function(){s.point=h,s.lineStart=y,s.lineEnd=R,f=Mo(f);var w=vf(u,i);f.length?(g||(r.polygonStart(),g=!0),Ho(f,yf,w,n,r)):w&&(g||(r.polygonStart(),g=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),g&&(r.polygonEnd(),g=!1),f=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function h(w,M){e(w,M)&&r.point(w,M)}function _(w,M){l.point(w,M)}function y(){s.point=_,l.lineStart()}function R(){s.point=h,l.lineEnd()}function p(w,M){c.push([w,M]),o.point(w,M)}function b(){o.lineStart(),c=[]}function m(){p(c[0][0],c[0][1]),o.lineEnd();var w=o.clean(),M=a.result(),C,N=M.length,O,k,I;if(c.pop(),u.push(c),c=null,!!N){if(w&1){if(k=M[0],(O=k.length-1)>0){for(g||(r.polygonStart(),g=!0),r.lineStart(),C=0;C<O;++C)r.point((I=k[C])[0],I[1]);r.lineEnd()}return}N>1&&w&2&&M.push(M.pop().concat(M.shift())),f.push(M.filter(wf))}}return s}}function wf(e){return e.length>1}function yf(e,t){return((e=e.x)[0]<0?e[1]-Ae-le:Ae-e[1])-((t=t.x)[0]<0?t[1]-Ae-le:Ae-t[1])}const oa=zo(function(){return!0},bf,Cf,[-re,-Ae]);function bf(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(l,a){var o=l>0?re:-re,g=he(l-t);he(g-re)<le?(e.point(t,n=(n+a)/2>0?Ae:-Ae),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(l,n),r=0):i!==o&&g>=re&&(he(t-i)<le&&(t-=i*le),he(l-o)<le&&(l-=o*le),n=Rf(t,n,l,a),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),r=0),e.point(t=l,n=a),i=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function Rf(e,t,n,i){var r,l,a=ue(e-n);return he(a)>le?gf((ue(t)*(l=_e(i))*ue(n)-ue(i)*(r=_e(t))*ue(e))/(r*l*a)):(t+i)/2}function Cf(e,t,n,i){var r;if(e==null)r=n*Ae,i.point(-re,r),i.point(0,r),i.point(re,r),i.point(re,0),i.point(re,-r),i.point(0,-r),i.point(-re,-r),i.point(-re,0),i.point(-re,r);else if(he(e[0]-t[0])>le){var l=e[0]<t[0]?re:-re;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(t[0],t[1])}function Tf(e){var t=_e(e),n=6*Te,i=t>0,r=he(t)>le;function l(f,c,s,h){pf(h,e,n,s,f,c)}function a(f,c){return _e(f)*_e(c)>t}function o(f){var c,s,h,_,y;return{lineStart:function(){_=h=!1,y=1},point:function(R,p){var b=[R,p],m,w=a(R,p),M=i?w?0:u(R,p):w?u(R+(R<0?re:-re),p):0;if(!c&&(_=h=w)&&f.lineStart(),w!==h&&(m=g(c,b),(!m||oi(c,m)||oi(b,m))&&(b[2]=1)),w!==h)y=0,w?(f.lineStart(),m=g(b,c),f.point(m[0],m[1])):(m=g(c,b),f.point(m[0],m[1],2),f.lineEnd()),c=m;else if(r&&c&&i^w){var C;!(M&s)&&(C=g(b,c,!0))&&(y=0,i?(f.lineStart(),f.point(C[0][0],C[0][1]),f.point(C[1][0],C[1][1]),f.lineEnd()):(f.point(C[1][0],C[1][1]),f.lineEnd(),f.lineStart(),f.point(C[0][0],C[0][1],3)))}w&&(!c||!oi(c,b))&&f.point(b[0],b[1]),c=b,h=w,s=M},lineEnd:function(){h&&f.lineEnd(),c=null},clean:function(){return y|(_&&h)<<1}}}function g(f,c,s){var h=mn(f),_=mn(c),y=[1,0,0],R=pi(h,_),p=Jn(R,R),b=R[0],m=p-b*b;if(!m)return!s&&f;var w=t*p/m,M=-t*b/m,C=pi(y,R),N=Qn(y,w),O=Qn(R,M);yr(N,O);var k=C,I=Jn(N,k),L=Jn(k,k),E=I*I-L*(Jn(N,N)-1);if(!(E<0)){var H=et(E),U=Qn(k,(-I-H)/L);if(yr(U,N),U=Nr(U),!s)return U;var S=f[0],B=c[0],A=f[1],W=c[1],D;B<S&&(D=S,S=B,B=D);var ae=B-S,we=he(ae-re)<le,pe=we||ae<le;if(!we&&W<A&&(D=A,A=W,W=D),pe?we?A+W>0^U[1]<(he(U[0]-S)<le?A:W):A<=U[1]&&U[1]<=W:ae>re^(S<=U[0]&&U[0]<=B)){var ie=Qn(k,(-I+H)/L);return yr(ie,N),[U,Nr(ie)]}}}function u(f,c){var s=i?e:re-e,h=0;return f<-s?h|=1:f>s&&(h|=2),c<-s?h|=4:c>s&&(h|=8),h}return zo(a,o,l,i?[0,-e]:[-re,e-re])}function Sf(e,t,n,i,r,l){var a=e[0],o=e[1],g=t[0],u=t[1],f=0,c=1,s=g-a,h=u-o,_;if(_=n-a,!(!s&&_>0)){if(_/=s,s<0){if(_<f)return;_<c&&(c=_)}else if(s>0){if(_>c)return;_>f&&(f=_)}if(_=r-a,!(!s&&_<0)){if(_/=s,s<0){if(_>c)return;_>f&&(f=_)}else if(s>0){if(_<f)return;_<c&&(c=_)}if(_=i-o,!(!h&&_>0)){if(_/=h,h<0){if(_<f)return;_<c&&(c=_)}else if(h>0){if(_>c)return;_>f&&(f=_)}if(_=l-o,!(!h&&_<0)){if(_/=h,h<0){if(_>c)return;_>f&&(f=_)}else if(h>0){if(_<f)return;_<c&&(c=_)}return f>0&&(e[0]=a+f*s,e[1]=o+f*h),c<1&&(t[0]=a+c*s,t[1]=o+c*h),!0}}}}}var Cn=1e9,ei=-Cn;function Ef(e,t,n,i){function r(u,f){return e<=u&&u<=n&&t<=f&&f<=i}function l(u,f,c,s){var h=0,_=0;if(u==null||(h=a(u,c))!==(_=a(f,c))||g(u,f)<0^c>0)do s.point(h===0||h===3?e:n,h>1?i:t);while((h=(h+c+4)%4)!==_);else s.point(f[0],f[1])}function a(u,f){return he(u[0]-e)<le?f>0?0:3:he(u[0]-n)<le?f>0?2:1:he(u[1]-t)<le?f>0?1:0:f>0?3:2}function o(u,f){return g(u.x,f.x)}function g(u,f){var c=a(u,1),s=a(f,1);return c!==s?c-s:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=Po(),s,h,_,y,R,p,b,m,w,M,C,N={point:O,lineStart:E,lineEnd:H,polygonStart:I,polygonEnd:L};function O(S,B){r(S,B)&&f.point(S,B)}function k(){for(var S=0,B=0,A=h.length;B<A;++B)for(var W=h[B],D=1,ae=W.length,we=W[0],pe,ie,be=we[0],Z=we[1];D<ae;++D)pe=be,ie=Z,we=W[D],be=we[0],Z=we[1],ie<=i?Z>i&&(be-pe)*(i-ie)>(Z-ie)*(e-pe)&&++S:Z<=i&&(be-pe)*(i-ie)<(Z-ie)*(e-pe)&&--S;return S}function I(){f=c,s=[],h=[],C=!0}function L(){var S=k(),B=C&&S,A=(s=Mo(s)).length;(B||A)&&(u.polygonStart(),B&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),A&&Ho(s,o,S,l,u),u.polygonEnd()),f=u,s=h=_=null}function E(){N.point=U,h&&h.push(_=[]),M=!0,w=!1,b=m=NaN}function H(){s&&(U(y,R),p&&w&&c.rejoin(),s.push(c.result())),N.point=O,w&&f.lineEnd()}function U(S,B){var A=r(S,B);if(h&&_.push([S,B]),M)y=S,R=B,p=A,M=!1,A&&(f.lineStart(),f.point(S,B));else if(A&&w)f.point(S,B);else{var W=[b=Math.max(ei,Math.min(Cn,b)),m=Math.max(ei,Math.min(Cn,m))],D=[S=Math.max(ei,Math.min(Cn,S)),B=Math.max(ei,Math.min(Cn,B))];Sf(W,D,e,t,n,i)?(w||(f.lineStart(),f.point(W[0],W[1])),f.point(D[0],D[1]),A||f.lineEnd(),C=!1):A&&(f.lineStart(),f.point(S,B),C=!1)}b=S,m=B,w=A}return N}}const Vr=e=>e;var Rr=new Zt,Ur=new Zt,Vo,Uo,Br,Fr,$e={point:Le,lineStart:Le,lineEnd:Le,polygonStart:function(){$e.lineStart=Mf,$e.lineEnd=Of},polygonEnd:function(){$e.lineStart=$e.lineEnd=$e.point=Le,Rr.add(he(Ur)),Ur=new Zt},result:function(){var e=Rr/2;return Rr=new Zt,e}};function Mf(){$e.point=kf}function kf(e,t){$e.point=Bo,Vo=Br=e,Uo=Fr=t}function Bo(e,t){Ur.add(Fr*e-Br*t),Br=e,Fr=t}function Of(){Bo(Vo,Uo)}var _n=1/0,vi=_n,Dn=-_n,wi=Dn,yi={point:If,lineStart:Le,lineEnd:Le,polygonStart:Le,polygonEnd:Le,result:function(){var e=[[_n,vi],[Dn,wi]];return Dn=wi=-(vi=_n=1/0),e}};function If(e,t){e<_n&&(_n=e),e>Dn&&(Dn=e),t<vi&&(vi=t),t>wi&&(wi=t)}var qr=0,Gr=0,Tn=0,bi=0,Ri=0,an=0,Wr=0,xr=0,Sn=0,Fo,qo,xe,Ye,Ie={point:Qt,lineStart:sa,lineEnd:fa,polygonStart:function(){Ie.lineStart=Df,Ie.lineEnd=Nf},polygonEnd:function(){Ie.point=Qt,Ie.lineStart=sa,Ie.lineEnd=fa},result:function(){var e=Sn?[Wr/Sn,xr/Sn]:an?[bi/an,Ri/an]:Tn?[qr/Tn,Gr/Tn]:[NaN,NaN];return qr=Gr=Tn=bi=Ri=an=Wr=xr=Sn=0,e}};function Qt(e,t){qr+=e,Gr+=t,++Tn}function sa(){Ie.point=Af}function Af(e,t){Ie.point=Lf,Qt(xe=e,Ye=t)}function Lf(e,t){var n=e-xe,i=t-Ye,r=et(n*n+i*i);bi+=r*(xe+e)/2,Ri+=r*(Ye+t)/2,an+=r,Qt(xe=e,Ye=t)}function fa(){Ie.point=Qt}function Df(){Ie.point=Pf}function Nf(){Go(Fo,qo)}function Pf(e,t){Ie.point=Go,Qt(Fo=xe=e,qo=Ye=t)}function Go(e,t){var n=e-xe,i=t-Ye,r=et(n*n+i*i);bi+=r*(xe+e)/2,Ri+=r*(Ye+t)/2,an+=r,r=Ye*e-xe*t,Wr+=r*(xe+e),xr+=r*(Ye+t),Sn+=r*3,Qt(xe=e,Ye=t)}function Wo(e){this._context=e}Wo.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Pe);break}}},result:Le};var Yr=new Zt,Cr,xo,Yo,En,Mn,Nn={point:Le,lineStart:function(){Nn.point=Hf},lineEnd:function(){Cr&&Xo(xo,Yo),Nn.point=Le},polygonStart:function(){Cr=!0},polygonEnd:function(){Cr=null},result:function(){var e=+Yr;return Yr=new Zt,e}};function Hf(e,t){Nn.point=Xo,xo=En=e,Yo=Mn=t}function Xo(e,t){En-=e,Mn-=t,Yr.add(et(En*En+Mn*Mn)),En=e,Mn=t}let ua,Ci,ha,ca;class da{constructor(t){this._append=t==null?jo:zf(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==ha||this._append!==Ci){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,ha=i,Ci=this._append,ca=this._,this._=r}this._+=ca;break}}}result(){const t=this._;return this._="",t.length?t:null}}function jo(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function zf(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return jo;if(t!==ua){const n=10**t;ua=t,Ci=function(r){let l=1;this._+=r[0];for(const a=r.length;l<a;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return Ci}function Ei(e,t){let n=3,i=4.5,r,l;function a(o){return o&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),ln(o,r(l))),l.result()}return a.area=function(o){return ln(o,r($e)),$e.result()},a.measure=function(o){return ln(o,r(Nn)),Nn.result()},a.bounds=function(o){return ln(o,r(yi)),yi.result()},a.centroid=function(o){return ln(o,r(Ie)),Ie.result()},a.projection=function(o){return arguments.length?(r=o==null?(e=null,Vr):(e=o).stream,a):e},a.context=function(o){return arguments.length?(l=o==null?(t=null,new da(n)):new Wo(t=o),typeof i!="function"&&l.pointRadius(i),a):t},a.pointRadius=function(o){return arguments.length?(i=typeof o=="function"?o:(l.pointRadius(+o),+o),a):i},a.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const g=Math.floor(o);if(!(g>=0))throw new RangeError(`invalid digits: ${o}`);n=g}return t===null&&(l=new da(n)),a},a.projection(e).digits(n).context(t)}function il(e){return function(t){var n=new Xr;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Xr(){}Xr.prototype={constructor:Xr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rl(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),ln(n,e.stream(yi)),t(yi.result()),i!=null&&e.clipExtent(i),e}function ll(e,t,n){return rl(e,function(i){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],a=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),o=+t[0][0]+(r-a*(i[1][0]+i[0][0]))/2,g=+t[0][1]+(l-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([o,g])},n)}function Ko(e,t,n){return ll(e,[[0,0],t],n)}function Zo(e,t,n){return rl(e,function(i){var r=+t,l=r/(i[1][0]-i[0][0]),a=(r-l*(i[1][0]+i[0][0]))/2,o=-l*i[0][1];e.scale(150*l).translate([a,o])},n)}function Jo(e,t,n){return rl(e,function(i){var r=+t,l=r/(i[1][1]-i[0][1]),a=-l*i[0][0],o=(r-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([a,o])},n)}var ga=16,Vf=_e(30*Te);function ma(e,t){return+t?Bf(e,t):Uf(e)}function Uf(e){return il({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Bf(e,t){function n(i,r,l,a,o,g,u,f,c,s,h,_,y,R){var p=u-i,b=f-r,m=p*p+b*b;if(m>4*t&&y--){var w=a+s,M=o+h,C=g+_,N=et(w*w+M*M+C*C),O=Jt(C/=N),k=he(he(C)-1)<le||he(l-c)<le?(l+c)/2:gn(M,w),I=e(k,O),L=I[0],E=I[1],H=L-i,U=E-r,S=b*H-p*U;(S*S/m>t||he((p*H+b*U)/m-.5)>.3||a*s+o*h+g*_<Vf)&&(n(i,r,l,a,o,g,L,E,k,w/=N,M/=N,C,y,R),R.point(L,E),n(L,E,k,w,M,C,u,f,c,s,h,_,y,R))}}return function(i){var r,l,a,o,g,u,f,c,s,h,_,y,R={point:p,lineStart:b,lineEnd:w,polygonStart:function(){i.polygonStart(),R.lineStart=M},polygonEnd:function(){i.polygonEnd(),R.lineStart=b}};function p(O,k){O=e(O,k),i.point(O[0],O[1])}function b(){c=NaN,R.point=m,i.lineStart()}function m(O,k){var I=mn([O,k]),L=e(O,k);n(c,s,f,h,_,y,c=L[0],s=L[1],f=O,h=I[0],_=I[1],y=I[2],ga,i),i.point(c,s)}function w(){R.point=p,i.lineEnd()}function M(){b(),R.point=C,R.lineEnd=N}function C(O,k){m(r=O,k),l=c,a=s,o=h,g=_,u=y,R.point=m}function N(){n(c,s,f,h,_,y,l,a,r,o,g,u,ga,i),R.lineEnd=w,w()}return R}}var Ff=il({point:function(e,t){this.stream.point(e*Te,t*Te)}});function qf(e){return il({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function Gf(e,t,n,i,r){function l(a,o){return a*=i,o*=r,[t+e*a,n-e*o]}return l.invert=function(a,o){return[(a-t)/e*i,(n-o)/e*r]},l}function _a(e,t,n,i,r,l){if(!l)return Gf(e,t,n,i,r);var a=_e(l),o=ue(l),g=a*e,u=o*e,f=a/e,c=o/e,s=(o*n-a*t)/e,h=(o*t+a*n)/e;function _(y,R){return y*=i,R*=r,[g*y-u*R+t,n-u*y-g*R]}return _.invert=function(y,R){return[i*(f*y-c*R+s),r*(h-c*y-f*R)]},_}function Wf(e){var t,n=150,i=480,r=250,l=0,a=0,o=0,g=0,u=0,f,c=0,s=1,h=1,_=null,y=oa,R=null,p,b,m,w=Vr,M=.5,C,N,O,k,I;function L(S){return O(S[0]*Te,S[1]*Te)}function E(S){return S=O.invert(S[0],S[1]),S&&[S[0]*Ve,S[1]*Ve]}L.stream=function(S){return k&&I===S?k:k=Ff(qf(f)(y(C(w(I=S)))))},L.preclip=function(S){return arguments.length?(y=S,_=void 0,U()):y},L.postclip=function(S){return arguments.length?(w=S,R=p=b=m=null,U()):w},L.clipAngle=function(S){return arguments.length?(y=+S?Tf(_=S*Te):(_=null,oa),U()):_*Ve},L.clipExtent=function(S){return arguments.length?(w=S==null?(R=p=b=m=null,Vr):Ef(R=+S[0][0],p=+S[0][1],b=+S[1][0],m=+S[1][1]),U()):R==null?null:[[R,p],[b,m]]},L.scale=function(S){return arguments.length?(n=+S,H()):n},L.translate=function(S){return arguments.length?(i=+S[0],r=+S[1],H()):[i,r]},L.center=function(S){return arguments.length?(l=S[0]%360*Te,a=S[1]%360*Te,H()):[l*Ve,a*Ve]},L.rotate=function(S){return arguments.length?(o=S[0]%360*Te,g=S[1]%360*Te,u=S.length>2?S[2]%360*Te:0,H()):[o*Ve,g*Ve,u*Ve]},L.angle=function(S){return arguments.length?(c=S%360*Te,H()):c*Ve},L.reflectX=function(S){return arguments.length?(s=S?-1:1,H()):s<0},L.reflectY=function(S){return arguments.length?(h=S?-1:1,H()):h<0},L.precision=function(S){return arguments.length?(C=ma(N,M=S*S),U()):et(M)},L.fitExtent=function(S,B){return ll(L,S,B)},L.fitSize=function(S,B){return Ko(L,S,B)},L.fitWidth=function(S,B){return Zo(L,S,B)},L.fitHeight=function(S,B){return Jo(L,S,B)};function H(){var S=_a(n,0,0,s,h,c).apply(null,t(l,a)),B=_a(n,i-S[0],r-S[1],s,h,c);return f=_f(o,g,u),N=Hr(t,B),O=Hr(f,N),C=ma(N,M),U()}function U(){return k=I=null,L}return function(){return t=e.apply(this,arguments),L.invert=t.invert&&E,H()}}function xf(e){var t=0,n=re/3,i=Wf(e),r=i(t,n);return r.parallels=function(l){return arguments.length?i(t=l[0]*Te,n=l[1]*Te):[t*Ve,n*Ve]},r}function Yf(e){var t=_e(e);function n(i,r){return[i*t,ue(r)/t]}return n.invert=function(i,r){return[i/t,Jt(r*t)]},n}function Xf(e,t){var n=ue(e),i=(n+ue(t))/2;if(he(i)<le)return Yf(e);var r=1+n*(2*i-n),l=et(r)/i;function a(o,g){var u=et(r-2*i*ue(g))/i;return[u*ue(o*=i),l-u*_e(o)]}return a.invert=function(o,g){var u=l-g,f=gn(o,he(u))*ai(u);return u*i<0&&(f-=re*ai(o)*ai(u)),[f/i,Jt((r-(o*o+u*u)*i*i)/(2*i))]},a}function jr(){return xf(Xf).scale(155.424).center([0,33.6442])}function jf(){return jr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Kf(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Mi(){var e,t,n=jf(),i,r=jr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,a=jr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,g,u={point:function(s,h){g=[s,h]}};function f(s){var h=s[0],_=s[1];return g=null,i.point(h,_),g||(l.point(h,_),g)||(o.point(h,_),g)}f.invert=function(s){var h=n.scale(),_=n.translate(),y=(s[0]-_[0])/h,R=(s[1]-_[1])/h;return(R>=.12&&R<.234&&y>=-.425&&y<-.214?r:R>=.166&&R<.234&&y>=-.214&&y<-.115?a:n).invert(s)},f.stream=function(s){return e&&t===s?e:e=Kf([n.stream(t=s),r.stream(s),a.stream(s)])},f.precision=function(s){return arguments.length?(n.precision(s),r.precision(s),a.precision(s),c()):n.precision()},f.scale=function(s){return arguments.length?(n.scale(s),r.scale(s*.35),a.scale(s),f.translate(n.translate())):n.scale()},f.translate=function(s){if(!arguments.length)return n.translate();var h=n.scale(),_=+s[0],y=+s[1];return i=n.translate(s).clipExtent([[_-.455*h,y-.238*h],[_+.455*h,y+.238*h]]).stream(u),l=r.translate([_-.307*h,y+.201*h]).clipExtent([[_-.425*h+le,y+.12*h+le],[_-.214*h-le,y+.234*h-le]]).stream(u),o=a.translate([_-.205*h,y+.212*h]).clipExtent([[_-.214*h+le,y+.166*h+le],[_-.115*h-le,y+.234*h-le]]).stream(u),c()},f.fitExtent=function(s,h){return ll(f,s,h)},f.fitSize=function(s,h){return Ko(f,s,h)},f.fitWidth=function(s,h){return Zo(f,s,h)},f.fitHeight=function(s,h){return Jo(f,s,h)};function c(){return e=t=null,f}return f.scale(1070)}function al(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const pa=Symbol("implicit");function ol(){var e=new Hl,t=[],n=[],i=pa;function r(l){let a=e.get(l);if(a===void 0){if(i!==pa)return i;e.set(l,a=t.push(l)-1)}return n[a%n.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new Hl;for(const a of l)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return ol(t,n).unknown(i)},al.apply(r,arguments),r}function Qo(){var e=ol().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,l,a,o=!1,g=0,u=0,f=.5;delete e.unknown;function c(){var s=t().length,h=r<i,_=h?r:i,y=h?i:r;l=(y-_)/Math.max(1,s-g+u*2),o&&(l=Math.floor(l)),_+=(y-_-l*(s-g))*f,a=l*(1-g),o&&(_=Math.round(_),a=Math.round(a));var R=Ms(s).map(function(p){return _+l*p});return n(h?R.reverse():R)}return e.domain=function(s){return arguments.length?(t(s),c()):t()},e.range=function(s){return arguments.length?([i,r]=s,i=+i,r=+r,c()):[i,r]},e.rangeRound=function(s){return[i,r]=s,i=+i,r=+r,o=!0,c()},e.bandwidth=function(){return a},e.step=function(){return l},e.round=function(s){return arguments.length?(o=!!s,c()):o},e.padding=function(s){return arguments.length?(g=Math.min(1,u=+s),c()):g},e.paddingInner=function(s){return arguments.length?(g=Math.min(1,s),c()):g},e.paddingOuter=function(s){return arguments.length?(u=+s,c()):u},e.align=function(s){return arguments.length?(f=Math.max(0,Math.min(1,s)),c()):f},e.copy=function(){return Qo(t(),[i,r]).round(o).paddingInner(g).paddingOuter(u).align(f)},al.apply(c(),arguments)}function Zf(e){return function(){return e}}function Jf(e){return+e}var va=[0,1];function on(e){return e}function Kr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Zf(isNaN(t)?NaN:.5)}function Qf(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function $f(e,t,n){var i=e[0],r=e[1],l=t[0],a=t[1];return r<i?(i=Kr(r,i),l=n(a,l)):(i=Kr(i,r),l=n(l,a)),function(o){return l(i(o))}}function eu(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),l=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Kr(e[a],e[a+1]),l[a]=n(t[a],t[a+1]);return function(o){var g=So(e,o,1,i)-1;return l[g](r[g](o))}}function tu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nu(){var e=va,t=va,n=tl,i,r,l,a=on,o,g,u;function f(){var s=Math.min(e.length,t.length);return a!==on&&(a=Qf(e[0],e[s-1])),o=s>2?eu:$f,g=u=null,c}function c(s){return s==null||isNaN(s=+s)?l:(g||(g=o(e.map(i),t,n)))(i(a(s)))}return c.invert=function(s){return a(r((u||(u=o(t,e.map(i),di)))(s)))},c.domain=function(s){return arguments.length?(e=Array.from(s,Jf),f()):e.slice()},c.range=function(s){return arguments.length?(t=Array.from(s),f()):t.slice()},c.rangeRound=function(s){return t=Array.from(s),n=Js,f()},c.clamp=function(s){return arguments.length?(a=s?!0:on,f()):a!==on},c.interpolate=function(s){return arguments.length?(n=s,f()):n},c.unknown=function(s){return arguments.length?(l=s,c):l},function(s,h){return i=s,r=h,f()}}function iu(){return nu()(on,on)}function ru(e,t,n,i){var r=Rs(e,t,n),l;switch(i=mi(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=hf(r,a))&&(i.precision=l),No(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=cf(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=uf(r))&&(i.precision=l-(i.type==="%")*2);break}}return Do(i)}function lu(e){var t=e.domain;return e.ticks=function(n){var i=t();return Eo(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return ru(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,l=i.length-1,a=i[r],o=i[l],g,u,f=10;for(o<a&&(u=a,a=o,o=u,u=r,r=l,l=u);f-- >0;){if(u=cn(a,o,n),u===g)return i[r]=a,i[l]=o,t(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;g=u}return e},e}function pn(){var e=iu();return e.copy=function(){return tu(e,pn())},al.apply(e,arguments),lu(e)}function nn(e){return function(){return e}}function au(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new ef(t)}function ou(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $o(e){this._context=e}$o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function su(e){return new $o(e)}function fu(e){return e[0]}function uu(e){return e[1]}function Ge(e,t){var n=nn(!0),i=null,r=su,l=null,a=au(o);e=typeof e=="function"?e:e===void 0?fu:nn(e),t=typeof t=="function"?t:t===void 0?uu:nn(t);function o(g){var u,f=(g=ou(g)).length,c,s=!1,h;for(i==null&&(l=r(h=a())),u=0;u<=f;++u)!(u<f&&n(c=g[u],u,g))===s&&((s=!s)?l.lineStart():l.lineEnd()),s&&l.point(+e(c,u,g),+t(c,u,g));if(h)return l=null,h+""||null}return o.x=function(g){return arguments.length?(e=typeof g=="function"?g:nn(+g),o):e},o.y=function(g){return arguments.length?(t=typeof g=="function"?g:nn(+g),o):t},o.defined=function(g){return arguments.length?(n=typeof g=="function"?g:nn(!!g),o):n},o.curve=function(g){return arguments.length?(r=g,i!=null&&(l=r(i)),o):r},o.context=function(g){return arguments.length?(g==null?i=l=null:l=r(i=g),o):i},o}function kn(e,t,n){this.k=e,this.x=t,this.y=n}kn.prototype={constructor:kn,scale:function(e){return e===1?this:new kn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};kn.prototype;async function hu({fetch:e}){const n=await(await e("/usaContGeojson.json")).json(),r=await(await e("/cityCordMap.json")).json(),a=await(await e("/AmtrakRoutes.geojson")).json(),g=await(await e("/filteredCityPairToInfo.json")).json(),f=await(await e("/Amtrak_Routes-simplified.geojson")).json(),s=await(await e("/cityRouteMap.json")).json(),_=await(await e("/formatedIteratedGravityResults.json")).json();return{dataPayload:{usaGeo:n,cityCordMap:r,amtrakMap:a,filteredCityPairToInfo:g,amtrakMapSimp:f,cityAmtrakRouteMap:s,gravityTopResRoutes:_}}}const $u=Object.freeze(Object.defineProperty({__proto__:null,load:hu},Symbol.toStringTag,{value:"Module"}));function wa(e,{delay:t=0,duration:n=400,easing:i=is}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:l=>`opacity: ${l*r}`}}function ya(e,t,n){const i=e.slice();return i[8]=t[n],i}function ba(e,t,n){const i=e.slice();return i[8]=t[n],i}function cu(e){let t,n,i,r=Q(e[7]),l=[];for(let o=0;o<r.length;o+=1)l[o]=Ra(ya(e,r,o));let a=e[5]&&Ca(e);return{c(){t=j("g");for(let o=0;o<l.length;o+=1)l[o].c();n=ne(),a&&a.c(),this.h()},l(o){t=K(o,"g",{transform:!0});var g=P(t);for(let u=0;u<l.length;u+=1)l[u].l(g);n=ne(),a&&a.l(g),g.forEach(T),this.h()},h(){d(t,"transform",i="translate(0,"+(e[3]-e[1].bottom)+")")},m(o,g){J(o,t,g);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);v(t,n),a&&a.m(t,null)},p(o,g){if(g&208){r=Q(o[7]);let u;for(u=0;u<r.length;u+=1){const f=ya(o,r,u);l[u]?l[u].p(f,g):(l[u]=Ra(f),l[u].c(),l[u].m(t,n))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}o[5]?a?a.p(o,g):(a=Ca(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null),g&10&&i!==(i="translate(0,"+(o[3]-o[1].bottom)+")")&&d(t,"transform",i)},d(o){o&&T(t),ve(l,o),a&&a.d()}}}function du(e){let t,n,i,r=Q(e[7]),l=[];for(let o=0;o<r.length;o+=1)l[o]=Ta(ba(e,r,o));let a=e[5]&&Sa(e);return{c(){t=j("g");for(let o=0;o<l.length;o+=1)l[o].c();n=ne(),a&&a.c(),this.h()},l(o){t=K(o,"g",{transform:!0});var g=P(t);for(let u=0;u<l.length;u+=1)l[u].l(g);n=ne(),a&&a.l(g),g.forEach(T),this.h()},h(){d(t,"transform",i="translate("+e[1].left+")")},m(o,g){J(o,t,g);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);v(t,n),a&&a.m(t,null)},p(o,g){if(g&208){r=Q(o[7]);let u;for(u=0;u<r.length;u+=1){const f=ba(o,r,u);l[u]?l[u].p(f,g):(l[u]=Ta(f),l[u].c(),l[u].m(t,n))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}o[5]?a?a.p(o,g):(a=Sa(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null),g&2&&i!==(i="translate("+o[1].left+")")&&d(t,"transform",i)},d(o){o&&T(t),ve(l,o),a&&a.d()}}}function Ra(e){let t,n,i,r=e[8]+"",l,a;return{c(){t=j("g"),n=j("line"),i=j("text"),l=x(r),this.h()},l(o){t=K(o,"g",{transform:!0});var g=P(t);n=K(g,"line",{y2:!0,stroke:!0}),P(n).forEach(T),i=K(g,"text",{"text-anchor":!0,"dominant-baseline":!0,fill:!0,y:!0});var u=P(i);l=Y(u,r),u.forEach(T),g.forEach(T),this.h()},h(){d(n,"y2",6),d(n,"stroke","black"),d(i,"text-anchor","middle"),d(i,"dominant-baseline","hanging"),d(i,"fill","black"),d(i,"y",10),d(t,"transform",a="translate("+(e[4](e[8])+e[6])+")")},m(o,g){J(o,t,g),v(t,n),v(t,i),v(i,l)},p(o,g){g&128&&r!==(r=o[8]+"")&&Ce(l,r),g&208&&a!==(a="translate("+(o[4](o[8])+o[6])+")")&&d(t,"transform",a)},d(o){o&&T(t)}}}function Ca(e){let t,n,i;return{c(){t=j("text"),n=x(e[5]),this.h()},l(r){t=K(r,"text",{"text-anchor":!0,"dominant-baseline":!0,fill:!0,x:!0,y:!0});var l=P(t);n=Y(l,e[5]),l.forEach(T),this.h()},h(){d(t,"text-anchor","end"),d(t,"dominant-baseline","hanging"),d(t,"fill","black"),d(t,"x",i=e[2]-55),d(t,"y",25)},m(r,l){J(r,t,l),v(t,n)},p(r,l){l&32&&Ce(n,r[5]),l&4&&i!==(i=r[2]-55)&&d(t,"x",i)},d(r){r&&T(t)}}}function Ta(e){let t,n,i,r=e[8]+"",l,a;return{c(){t=j("g"),n=j("line"),i=j("text"),l=x(r),this.h()},l(o){t=K(o,"g",{transform:!0});var g=P(t);n=K(g,"line",{x2:!0,stroke:!0}),P(n).forEach(T),i=K(g,"text",{"text-anchor":!0,"dominant-baseline":!0,fill:!0,x:!0,"font-size":!0});var u=P(i);l=Y(u,r),u.forEach(T),g.forEach(T),this.h()},h(){d(n,"x2",-6),d(n,"stroke","black"),d(i,"text-anchor","end"),d(i,"dominant-baseline","middle"),d(i,"fill","black"),d(i,"x",-10),d(i,"font-size",15),d(t,"transform",a="translate(0,"+(e[4](e[8])+e[6])+")")},m(o,g){J(o,t,g),v(t,n),v(t,i),v(i,l)},p(o,g){g&128&&r!==(r=o[8]+"")&&Ce(l,r),g&208&&a!==(a="translate(0,"+(o[4](o[8])+o[6])+")")&&d(t,"transform",a)},d(o){o&&T(t)}}}function Sa(e){let t,n,i;return{c(){t=j("text"),n=x(e[5]),this.h()},l(r){t=K(r,"text",{"text-anchor":!0,"dominant-baseline":!0,fill:!0,x:!0,y:!0});var l=P(t);n=Y(l,e[5]),l.forEach(T),this.h()},h(){d(t,"text-anchor","start"),d(t,"dominant-baseline","hanging"),d(t,"fill","black"),d(t,"x",i=-e[1].left+10),d(t,"y",10)},m(r,l){J(r,t,l),v(t,n)},p(r,l){l&32&&Ce(n,r[5]),l&2&&i!==(i=-r[1].left+10)&&d(t,"x",i)},d(r){r&&T(t)}}}function Ea(e){let t,n,i;function r(o,g){return o[0]==="left"?du:cu}let l=r(e),a=l(e);return{c(){t=j("g"),a.c()},l(o){t=K(o,"g",{});var g=P(t);a.l(g),g.forEach(T)},m(o,g){J(o,t,g),a.m(t,null),i=!0},p(o,g){l===(l=r(o))&&a?a.p(o,g):(a.d(1),a=l(o),a&&(a.c(),a.m(t,null)))},i(o){i||(o&&rs(()=>{i&&(n||(n=Pl(t,wa,{duration:250},!0)),n.run(1))}),i=!0)},o(o){o&&(n||(n=Pl(t,wa,{duration:250},!1)),n.run(0)),i=!1},d(o){o&&T(t),a.d(),o&&n&&n.end()}}}function gu(e){let t=e[4],n,i=Ea(e);return{c(){i.c(),n=ne()},l(r){i.l(r),n=ne()},m(r,l){i.m(r,l),J(r,n,l)},p(r,[l]){l&16&&He(t,t=r[4])?(ls(),fe(i,1,1,Oe),as(),i=Ea(r),i.c(),se(i,1),i.m(n.parentNode,n)):i.p(r,l)},i(r){se(i)},o(r){fe(i)},d(r){r&&T(n),i.d(r)}}}function mu(e,t,n){let i,r,{orientation:l}=t,{margin:a}=t,{width:o}=t,{height:g}=t,{scale:u}=t,{label:f=""}=t;return e.$$set=c=>{"orientation"in c&&n(0,l=c.orientation),"margin"in c&&n(1,a=c.margin),"width"in c&&n(2,o=c.width),"height"in c&&n(3,g=c.height),"scale"in c&&n(4,u=c.scale),"label"in c&&n(5,f=c.label)},e.$$.update=()=>{e.$$.dirty&16&&n(7,i=u.bandwidth?u.domain():u.ticks()),e.$$.dirty&16&&n(6,r=u.bandwidth?u.bandwidth()/2:0)},[l,a,o,g,u,f,r,i]}class vn extends Be{constructor(t){super(),Fe(this,t,mu,gu,He,{orientation:0,margin:1,width:2,height:3,scale:4,label:5})}}function Ma(e,t,n){const i=e.slice();return i[21]=t[n][0],i[22]=t[n][1],i}function ka(e,t){let n,i,r,l,a,o,g,u=Math.round(t[22][t[0]]*t[3])/t[3]+"",f,c,s;return{key:e,first:null,c(){n=j("rect"),g=j("text"),f=x(u),this.h()},l(h){n=K(h,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),P(n).forEach(T),g=K(h,"text",{class:!0,"font-family":!0,"font-size":!0,x:!0,y:!0,"text-anchor":!0});var _=P(g);f=Y(_,u),_.forEach(T),this.h()},h(){d(n,"x",i=t[9](0)),d(n,"y",r=t[8](t[21])),d(n,"height",l=t[8].bandwidth()),d(n,"width",a=t[9](t[22][t[0]])-t[9](0)),d(n,"fill",o=t[22].color),d(n,"class","svelte-1r92p4l"),d(g,"class","bar-label"),d(g,"font-family","sans-serif"),d(g,"font-size","12px"),d(g,"x",c=t[9](t[22][t[0]])+5),d(g,"y",s=t[8](t[21])+t[8].bandwidth()/2+5),d(g,"text-anchor","start"),this.first=n},m(h,_){J(h,n,_),J(h,g,_),v(g,f)},p(h,_){t=h,_&512&&i!==(i=t[9](0))&&d(n,"x",i),_&272&&r!==(r=t[8](t[21]))&&d(n,"y",r),_&256&&l!==(l=t[8].bandwidth())&&d(n,"height",l),_&529&&a!==(a=t[9](t[22][t[0]])-t[9](0))&&d(n,"width",a),_&16&&o!==(o=t[22].color)&&d(n,"fill",o),_&25&&u!==(u=Math.round(t[22][t[0]]*t[3])/t[3]+"")&&Ce(f,u),_&529&&c!==(c=t[9](t[22][t[0]])+5)&&d(g,"x",c),_&272&&s!==(s=t[8](t[21])+t[8].bandwidth()/2+5)&&d(g,"y",s)},d(h){h&&(T(n),T(g))}}}function _u(e){let t,n,i,r=[],l=new Map,a,o,g,u,f=Q(e[4]);const c=s=>s[21];for(let s=0;s<f.length;s+=1){let h=Ma(e,f,s),_=c(h);l.set(_,r[s]=ka(_,h))}return a=new vn({props:{orientation:"bottom",scale:e[9],width:e[7],height:e[6],margin:e[10],label:e[1]}}),o=new vn({props:{orientation:"left",scale:e[8],width:e[7],height:e[6],margin:e[10],label:e[2]}}),{c(){t=z("div"),n=j("svg"),i=j("g");for(let s=0;s<r.length;s+=1)r[s].c();ce(a.$$.fragment),ce(o.$$.fragment),this.h()},l(s){t=V(s,"DIV",{class:!0});var h=P(t);n=K(h,"svg",{height:!0,width:!0});var _=P(n);i=K(_,"g",{});var y=P(i);for(let R=0;R<r.length;R+=1)r[R].l(y);y.forEach(T),de(a.$$.fragment,_),de(o.$$.fragment,_),_.forEach(T),h.forEach(T),this.h()},h(){d(n,"height",e[6]),d(n,"width",e[7]),d(t,"class","BarChart svelte-1r92p4l")},m(s,h){J(s,t,h),v(t,n),v(n,i);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(i,null);ge(a,n,null),ge(o,n,null),g=mt.observe(t,e[18].bind(t)),u=!0},p(s,[h]){h&793&&(f=Q(s[4]),r=ss(r,h,c,1,s,f,l,i,os,ka,null,Ma));const _={};h&512&&(_.scale=s[9]),h&128&&(_.width=s[7]),h&64&&(_.height=s[6]),h&2&&(_.label=s[1]),a.$set(_);const y={};h&256&&(y.scale=s[8]),h&128&&(y.width=s[7]),h&64&&(y.height=s[6]),h&4&&(y.label=s[2]),o.$set(y),(!u||h&64)&&d(n,"height",s[6]),(!u||h&128)&&d(n,"width",s[7])},i(s){u||(se(a.$$.fragment,s),se(o.$$.fragment,s),u=!0)},o(s){fe(a.$$.fragment,s),fe(o.$$.fragment,s),u=!1},d(s){s&&T(t);for(let h=0;h<r.length;h+=1)r[h].d();me(a),me(o),g()}}}function pu(e,t,n){let i,r,l,a,{dataset:o}=t,{feature:g}=t,{xLabel:u}=t,{yLabel:f}=t,{color:c}=t,{roundValue:s}=t,{unitConversion:h=1}=t,{firstX:_=-1}=t,{stringFormatter:y}=t,{minDimSize:R}=t,{sort:p}=t,b=o;p&&(b=o.sort(([O,k],[I,L])=>{const E=k[g],H=L[g];return Qr(E,H)})),_!==-1&&(b=b.slice(0,_));const m=O=>{const k={...O};return k[g]=k[g]/h,k.color=k.color?k.color:c,k};b=b.map(([O,k])=>[O,m(k)]),y=y||(O=>O),b=b.map(([O,k])=>[y(O),k]);let w;const M=_t(b,O=>O[1][g]),C={top:45,bottom:45,left:270,right:80};function N(){var O;w=(O=gt.entries.get(this))==null?void 0:O.borderBoxSize,n(5,w)}return e.$$set=O=>{"dataset"in O&&n(12,o=O.dataset),"feature"in O&&n(0,g=O.feature),"xLabel"in O&&n(1,u=O.xLabel),"yLabel"in O&&n(2,f=O.yLabel),"color"in O&&n(13,c=O.color),"roundValue"in O&&n(3,s=O.roundValue),"unitConversion"in O&&n(14,h=O.unitConversion),"firstX"in O&&n(15,_=O.firstX),"stringFormatter"in O&&n(11,y=O.stringFormatter),"minDimSize"in O&&n(16,R=O.minDimSize),"sort"in O&&n(17,p=O.sort)},e.$$.update=()=>{e.$$.dirty&65568&&n(7,i=w?Math.max(w[0].inlineSize,R[0]):R[0]),e.$$.dirty&65568&&n(6,r=w?Math.max(w[0].blockSize,R[1]):R[1]),e.$$.dirty&128&&n(9,l=pn().domain([0,M]).range([C.left,i-C.right])),e.$$.dirty&80&&n(8,a=Qo().domain(b.map(([O,k])=>O)).range([C.top,r-C.bottom]).padding(.1))},[g,u,f,s,b,w,r,i,a,l,C,y,o,c,h,_,R,p,N]}class ti extends Be{constructor(t){super(),Fe(this,t,pu,_u,He,{dataset:12,feature:0,xLabel:1,yLabel:2,color:13,roundValue:3,unitConversion:14,firstX:15,stringFormatter:11,minDimSize:16,sort:17})}}let un={plane:120,train:15,car:0},hn={plane:60,train:45,car:0};const vu=["Seattle_WA","Austin_TX","Grand Rapids_MI","Nashville_TN","Asheville_TN","Huntsville_TN"],De=(e,t,n)=>e==="Asheville_NC"?[t(n[e].COORD)[0]+5,t(n[e].COORD)[1]-7]:e==="Huntsville_AL"?[t(n[e].COORD)[0]-50,t(n[e].COORD)[1]-7]:e==="Nashville_TN"?[t(n[e].COORD)[0]-50,t(n[e].COORD)[1]]:e==="Knoxville_TN"?[t(n[e].COORD)[0]-10,t(n[e].COORD)[1]-10]:vu.includes(e)?[t(n[e].COORD)[0]+5,t(n[e].COORD)[1]-10]:[t(n[e].COORD)[0]+4,t(n[e].COORD)[1]+4],te={MAP_COLOR:"#d3d3d3",CITY_CIRCLE_R:5,CITY_CIRCLE_COL:"#737373",ROUTE_STROKE_COL:"#b5b5b5",ROUTE_STROKE_WID:.75,HL_CIRC_COLOR:"#e31a1c",HL_CIRC_R:5,HL_ROUTE_STROKE_WID:1.5,HL_ROUTE_STROKE_COL:"#5eaee4",AMTRAK_RAIL_COL:"#6a3d9a",TRAIN_COLOR:"#cfe6ce",PLANE_COLOR:"#88aed0",CAR_COLOR:"#CFA287",HSR_ROUTE_COL:"#cc6600",LINE_OPACITY:.6};let wu=e=>44.5957+.117441*e,yu=e=>30+60/55*e,si=e=>25+.36*e,Oa=(e,t,n,i)=>{const r=[],l=t/500;for(let a=0;a<=t;a+=l){const o=e(a);r.push([n(a),i(o)])}return r},ni=(e,t,n,i)=>{const r=[],l=t/500;for(let a=0;a<=Ne(e)+l;a+=l){const o=e;r.push([n(o),i(a)])}return r},ii=(e,t,n,i)=>{const r=[],l=t/500;for(let a=0;a<=e;a+=l){const o=Ne(e);r.push([n(a),i(o)])}return r},Ne=e=>es(wu(e)),es=e=>e+un.plane+hn.plane,Ti=e=>si(e)+un.train+hn.train,Zr=e=>yu(e)+un.car+hn.car,Tr=(e,t)=>{const i=e(0),r=(e(10)-i)/10,l=t(0),a=(t(10)-l)/10;return(i-l)/(a-r)},bu=(e,t)=>{const i=e(0);return 1/((e(10)-i)/10)*(t-i)},Me={triangleUpper:Tr(Ti,Ne),triangleLower:Tr(Zr,Ti),carPlaneIntersection:Tr(Zr,Ne),topRoutesNumber:100,topGravNumber:30},$=e=>e.slice(1,-1).split(", "),Ru=e=>e.map(t=>{const[n,i]=t.split("_");return`${n}, ${i}`}),ct=e=>e.split("_")[0],dt=e=>e.split("_")[1],Ia=e=>e.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),Si=e=>{const t=Ne(Me.triangleLower),n=Ne(Me.triangleUpper);return e>=t&&e<=n},rn=(e,t)=>Math.round(e/t)*t,Cu=(e,t)=>Math.ceil(e/t)*t,Aa=(e,t)=>Math.floor(e/t)*t,La=e=>{const t=$(e);return Ru(t).join(`
 - 
`)},Tu=(e,t)=>{const n=e.AVG_TOTAL_TIME*t;if(Si(n)){const i=bu(Ne,n);return Ti(i)/t}else return n/t};function Da(e,t,n){const i=e.slice();return i[32]=t[n],i}function Na(e,t,n){const i=e.slice();return i[32]=t[n],i}function Pa(e,t,n){const i=e.slice();return i[37]=t[n],i}function Ha(e,t,n){const i=e.slice();return i[40]=t[n],i}function za(e){let t,n;return{c(){t=j("path"),this.h()},l(i){t=K(i,"path",{fill:!0,stroke:!0,d:!0}),P(t).forEach(T),this.h()},h(){d(t,"fill","none"),d(t,"stroke",e[18]),d(t,"d",n=e[10](e[40]))},m(i,r){J(i,t,r)},p(i,r){r[0]&1025&&n!==(n=i[10](i[40]))&&d(t,"d",n)},d(i){i&&T(t)}}}function Va(e){let t,n,i,r,l,a,o;function g(){return e[25](e[37])}function u(){return e[26](e[37])}return{c(){t=j("line"),this.h()},l(f){t=K(f,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),P(t).forEach(T),this.h()},h(){d(t,"x1",n=e[11](e[37],0,0)),d(t,"y1",i=e[11](e[37],0,1)),d(t,"x2",r=e[11](e[37],1,0)),d(t,"y2",l=e[11](e[37],1,1)),d(t,"stroke",e[16]),d(t,"stroke-width",e[17])},m(f,c){J(f,t,c),a||(o=[fi(t,"mouseover",g),fi(t,"focus",u)],a=!0)},p(f,c){e=f,c[0]&2048&&n!==(n=e[11](e[37],0,0))&&d(t,"x1",n),c[0]&2048&&i!==(i=e[11](e[37],0,1))&&d(t,"y1",i),c[0]&2048&&r!==(r=e[11](e[37],1,0))&&d(t,"x2",r),c[0]&2048&&l!==(l=e[11](e[37],1,1))&&d(t,"y2",l)},d(f){f&&T(t),a=!1,Jr(o)}}}function Ua(e){let t,n,i;return{c(){t=j("circle"),this.h()},l(r){t=K(r,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),P(t).forEach(T),this.h()},h(){d(t,"cx",n=e[9](e[1][e[32]].COORD)[0]),d(t,"cy",i=e[9](e[1][e[32]].COORD)[1]),d(t,"fill",e[15]),d(t,"r",e[14])},m(r,l){J(r,t,l)},p(r,l){l[0]&514&&n!==(n=r[9](r[1][r[32]].COORD)[0])&&d(t,"cx",n),l[0]&514&&i!==(i=r[9](r[1][r[32]].COORD)[1])&&d(t,"cy",i)},d(r){r&&T(t)}}}function Ba(e){let t,n=Q(e[13]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Fa(Da(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ne()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=ne()},m(r,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,l);J(r,t,l)},p(r,l){if(l[0]&8706){n=Q(r[13]);let a;for(a=0;a<n.length;a+=1){const o=Da(r,n,a);i[a]?i[a].p(o,l):(i[a]=Fa(o),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(r){r&&T(t),ve(i,r)}}}function Fa(e){let t,n=e[32].split("_")[0]+"",i,r,l;return{c(){t=j("text"),i=x(n),this.h()},l(a){t=K(a,"text",{"font-size":!0,"font-family":!0,"dominant-baseline":!0,x:!0,y:!0,"font-weight":!0});var o=P(t);i=Y(o,n),o.forEach(T),this.h()},h(){d(t,"font-size","10"),d(t,"font-family","sans-serif"),d(t,"dominant-baseline","hanging"),d(t,"x",r=e[9](e[1][e[32]].COORD)[0]+4),d(t,"y",l=e[9](e[1][e[32]].COORD)[1]+4),d(t,"font-weight","bold")},m(a,o){J(a,t,o),v(t,i)},p(a,o){o[0]&514&&r!==(r=a[9](a[1][a[32]].COORD)[0]+4)&&d(t,"x",r),o[0]&514&&l!==(l=a[9](a[1][a[32]].COORD)[1]+4)&&d(t,"y",l)},d(a){a&&T(t)}}}function qa(e){let t,n,i,r,l,a,o,g,u,f,c;return{c(){t=j("line"),a=j("circle"),u=j("circle"),this.h()},l(s){t=K(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),P(t).forEach(T),a=K(s,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),P(a).forEach(T),u=K(s,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),P(u).forEach(T),this.h()},h(){d(t,"x1",n=e[11](e[4],0,0)),d(t,"y1",i=e[11](e[4],0,1)),d(t,"x2",r=e[11](e[4],1,0)),d(t,"y2",l=e[11](e[4],1,1)),d(t,"stroke",e[22]),d(t,"stroke-width",e[21]),d(a,"cx",o=e[9](e[1][$(e[4][0])[0]].COORD)[0]),d(a,"cy",g=e[9](e[1][$(e[4][0])[0]].COORD)[1]),d(a,"fill",e[19]),d(a,"r",e[20]),d(u,"cx",f=e[9](e[1][$(e[4][0])[1]].COORD)[0]),d(u,"cy",c=e[9](e[1][$(e[4][0])[1]].COORD)[1]),d(u,"fill",e[19]),d(u,"r",e[20])},m(s,h){J(s,t,h),J(s,a,h),J(s,u,h)},p(s,h){h[0]&2064&&n!==(n=s[11](s[4],0,0))&&d(t,"x1",n),h[0]&2064&&i!==(i=s[11](s[4],0,1))&&d(t,"y1",i),h[0]&2064&&r!==(r=s[11](s[4],1,0))&&d(t,"x2",r),h[0]&2064&&l!==(l=s[11](s[4],1,1))&&d(t,"y2",l),h[0]&530&&o!==(o=s[9](s[1][$(s[4][0])[0]].COORD)[0])&&d(a,"cx",o),h[0]&530&&g!==(g=s[9](s[1][$(s[4][0])[0]].COORD)[1])&&d(a,"cy",g),h[0]&530&&f!==(f=s[9](s[1][$(s[4][0])[1]].COORD)[0])&&d(u,"cx",f),h[0]&530&&c!==(c=s[9](s[1][$(s[4][0])[1]].COORD)[1])&&d(u,"cy",c)},d(s){s&&(T(t),T(a),T(u))}}}function Su(e){let t,n,i,r,l,a,o,g,u=Q(e[0].features),f=[];for(let p=0;p<u.length;p+=1)f[p]=za(Ha(e,u,p));let c=Q(e[12]),s=[];for(let p=0;p<c.length;p+=1)s[p]=Va(Pa(e,c,p));let h=Q(e[13]),_=[];for(let p=0;p<h.length;p+=1)_[p]=Ua(Na(e,h,p));let y=e[5]&&Ba(e),R=e[4]&&qa(e);return{c(){t=z("div"),n=j("svg");for(let p=0;p<f.length;p+=1)f[p].c();i=ne();for(let p=0;p<s.length;p+=1)s[p].c();r=ne();for(let p=0;p<_.length;p+=1)_[p].c();l=ne(),y&&y.c(),a=ne(),R&&R.c(),this.h()},l(p){t=V(p,"DIV",{class:!0});var b=P(t);n=K(b,"svg",{width:!0,height:!0});var m=P(n);for(let w=0;w<f.length;w+=1)f[w].l(m);i=ne();for(let w=0;w<s.length;w+=1)s[w].l(m);r=ne();for(let w=0;w<_.length;w+=1)_[w].l(m);l=ne(),y&&y.l(m),a=ne(),R&&R.l(m),m.forEach(T),b.forEach(T),this.h()},h(){d(n,"width",e[7]),d(n,"height",e[8]),d(t,"class","maps svelte-csasca")},m(p,b){J(p,t,b),v(t,n);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(n,null);v(n,i);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);v(n,r);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(n,null);v(n,l),y&&y.m(n,null),v(n,a),R&&R.m(n,null),o=mt.observe(n,e[27].bind(n)),g=mt.observe(t,e[28].bind(t))},p(p,b){if(b[0]&263169){u=Q(p[0].features);let m;for(m=0;m<u.length;m+=1){const w=Ha(p,u,m);f[m]?f[m].p(w,b):(f[m]=za(w),f[m].c(),f[m].m(n,i))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}if(b[0]&202764){c=Q(p[12]);let m;for(m=0;m<c.length;m+=1){const w=Pa(p,c,m);s[m]?s[m].p(w,b):(s[m]=Va(w),s[m].c(),s[m].m(n,r))}for(;m<s.length;m+=1)s[m].d(1);s.length=c.length}if(b[0]&57858){h=Q(p[13]);let m;for(m=0;m<h.length;m+=1){const w=Na(p,h,m);_[m]?_[m].p(w,b):(_[m]=Ua(w),_[m].c(),_[m].m(n,l))}for(;m<_.length;m+=1)_[m].d(1);_.length=h.length}p[5]?y?y.p(p,b):(y=Ba(p),y.c(),y.m(n,a)):y&&(y.d(1),y=null),p[4]?R?R.p(p,b):(R=qa(p),R.c(),R.m(n,null)):R&&(R.d(1),R=null),b[0]&128&&d(n,"width",p[7]),b[0]&256&&d(n,"height",p[8])},i:Oe,o:Oe,d(p){p&&T(t),ve(f,p),ve(s,p),ve(_,p),y&&y.d(),R&&R.d(),o(),g()}}}function Eu(e,t,n){let i,r,l,{map:a}=t,{cities:o}=t,{cityCordMap:g}=t,{onhover:u}=t,{mapId:f}=t,{highlightedRoute:c}=t,{showCityName:s}=t,{dims:h}=t,_,y,R,p=[],b=[];o.forEach(A=>{let W=$(A[0])[0],D=$(A[0])[1];g[W]===void 0||g[D]===void 0||(p.push(W),p.push(D),b.push(A))});const m=new Set(p),w=te.CITY_CIRCLE_R,M=te.CITY_CIRCLE_COL,C=te.ROUTE_STROKE_COL,N=te.ROUTE_STROKE_WID,O=te.MAP_COLOR,k=te.HL_CIRC_COLOR,I=te.HL_CIRC_R,L=te.HL_ROUTE_STROKE_WID,E=te.HL_ROUTE_STROKE_COL,H=A=>u(A,f),U=A=>u(A,f);function S(){var A;_=(A=gt.entries.get(this))==null?void 0:A.borderBoxSize,n(6,_)}function B(){var A;_=(A=gt.entries.get(this))==null?void 0:A.borderBoxSize,n(6,_)}return e.$$set=A=>{"map"in A&&n(0,a=A.map),"cities"in A&&n(23,o=A.cities),"cityCordMap"in A&&n(1,g=A.cityCordMap),"onhover"in A&&n(2,u=A.onhover),"mapId"in A&&n(3,f=A.mapId),"highlightedRoute"in A&&n(4,c=A.highlightedRoute),"showCityName"in A&&n(5,s=A.showCityName),"dims"in A&&n(24,h=A.dims)},e.$$.update=()=>{e.$$.dirty[0]&16777280&&n(7,y=_?_t([_[0].inlineSize,h[0]]):h[0]),e.$$.dirty[0]&16777280&&n(8,R=_?_t([_[0].blockSize,h[1]]):h[0]),e.$$.dirty[0]&385&&n(9,r=Mi().fitSize([y,R],a)),e.$$.dirty[0]&514&&n(11,i=(A,W,D)=>r(g[$(A[0])[W]].COORD)[D]),e.$$.dirty[0]&512&&n(10,l=Ei().projection(r))},[a,g,u,f,c,s,_,y,R,r,l,i,b,m,w,M,C,N,O,k,I,L,E,o,h,H,U,S,B]}let Sr=class extends Be{constructor(t){super(),Fe(this,t,Eu,Su,He,{map:0,cities:23,cityCordMap:1,onhover:2,mapId:3,highlightedRoute:4,showCityName:5,dims:24},null,[-1,-1])}};function Mu(e){let t,n,i,r,l,a,o,g,u,f,c,s,h,_,y,R,p;return{c(){t=z("div"),n=z("ul"),i=z("li"),r=x("City: "),l=x(ht),a=F(),o=z("li"),g=x("Other City: "),u=x(ht),f=F(),c=z("li"),s=x("Distance: "),h=x(ht),_=F(),y=z("li"),R=x("Passengers: "),p=x(ht),this.h()},l(b){t=V(b,"DIV",{class:!0,width:!0});var m=P(t);n=V(m,"UL",{});var w=P(n);i=V(w,"LI",{});var M=P(i);r=Y(M,"City: "),l=Y(M,ht),M.forEach(T),a=q(w),o=V(w,"LI",{});var C=P(o);g=Y(C,"Other City: "),u=Y(C,ht),C.forEach(T),f=q(w),c=V(w,"LI",{});var N=P(c);s=Y(N,"Distance: "),h=Y(N,ht),N.forEach(T),_=q(w),y=V(w,"LI",{});var O=P(y);R=Y(O,"Passengers: "),p=Y(O,ht),O.forEach(T),w.forEach(T),m.forEach(T),this.h()},h(){d(t,"class","routeDisplay svelte-1iml2i0"),d(t,"width",ts)},m(b,m){J(b,t,m),v(t,n),v(n,i),v(i,r),v(i,l),v(n,a),v(n,o),v(o,g),v(o,u),v(n,f),v(n,c),v(c,s),v(c,h),v(n,_),v(n,y),v(y,R),v(y,p)},p:Oe,d(b){b&&T(t)}}}function ku(e){let t,n,i,r,l=ct($(e[0][0])[0])+"",a,o,g=dt($(e[0][0])[0])+"",u,f,c,s,h=ct($(e[0][0])[1])+"",_,y,R=dt($(e[0][0])[1])+"",p,b,m,w,M=Math.floor(e[0][1].DISTANCE)+"",C,N,O,k,I,L=Ia(e[0][1].PASSENGERS)+"",E;return{c(){t=z("div"),n=z("ul"),i=z("li"),r=x("City: "),a=x(l),o=x(", "),u=x(g),f=F(),c=z("li"),s=x("Other City: "),_=x(h),y=x(", "),p=x(R),b=F(),m=z("li"),w=x("Distance: "),C=x(M),N=x(" miles"),O=F(),k=z("li"),I=x("Passengers: "),E=x(L),this.h()},l(H){t=V(H,"DIV",{class:!0,width:!0});var U=P(t);n=V(U,"UL",{});var S=P(n);i=V(S,"LI",{});var B=P(i);r=Y(B,"City: "),a=Y(B,l),o=Y(B,", "),u=Y(B,g),B.forEach(T),f=q(S),c=V(S,"LI",{});var A=P(c);s=Y(A,"Other City: "),_=Y(A,h),y=Y(A,", "),p=Y(A,R),A.forEach(T),b=q(S),m=V(S,"LI",{});var W=P(m);w=Y(W,"Distance: "),C=Y(W,M),N=Y(W," miles"),W.forEach(T),O=q(S),k=V(S,"LI",{});var D=P(k);I=Y(D,"Passengers: "),E=Y(D,L),D.forEach(T),S.forEach(T),U.forEach(T),this.h()},h(){d(t,"class","routeDisplay svelte-1iml2i0"),d(t,"width",ts)},m(H,U){J(H,t,U),v(t,n),v(n,i),v(i,r),v(i,a),v(i,o),v(i,u),v(n,f),v(n,c),v(c,s),v(c,_),v(c,y),v(c,p),v(n,b),v(n,m),v(m,w),v(m,C),v(m,N),v(n,O),v(n,k),v(k,I),v(k,E)},p(H,U){U&1&&l!==(l=ct($(H[0][0])[0])+"")&&Ce(a,l),U&1&&g!==(g=dt($(H[0][0])[0])+"")&&Ce(u,g),U&1&&h!==(h=ct($(H[0][0])[1])+"")&&Ce(_,h),U&1&&R!==(R=dt($(H[0][0])[1])+"")&&Ce(p,R),U&1&&M!==(M=Math.floor(H[0][1].DISTANCE)+"")&&Ce(C,M),U&1&&L!==(L=Ia(H[0][1].PASSENGERS)+"")&&Ce(E,L)},d(H){H&&T(t)}}}function Ou(e){let t;function n(l,a){return l[0]?ku:Mu}let i=n(e),r=i(e);return{c(){r.c(),t=ne()},l(l){r.l(l),t=ne()},m(l,a){r.m(l,a),J(l,t,a)},p(l,[a]){i===(i=n(l))&&r?r.p(l,a):(r.d(1),r=i(l),r&&(r.c(),r.m(t.parentNode,t)))},i:Oe,o:Oe,d(l){l&&T(t),r.d(l)}}}const ht="hover over route to see",ts=450;function Iu(e,t,n){let{highlightedRoute:i}=t;return e.$$set=r=>{"highlightedRoute"in r&&n(0,i=r.highlightedRoute)},[i]}class Er extends Be{constructor(t){super(),Fe(this,t,Iu,Ou,He,{highlightedRoute:0})}}function Ga(e,t,n){const i=e.slice();return i[16]=t[n],i}function Wa(e,t,n){const i=e.slice();return i[16]=t[n],i}function xa(e,t,n){const i=e.slice();return i[21]=t[n],i}function Ya(e,t,n){const i=e.slice();return i[24]=t[n],i}function Xa(e){let t,n;return{c(){t=j("path"),this.h()},l(i){t=K(i,"path",{fill:!0,stroke:!0,d:!0,opacity:!0}),P(t).forEach(T),this.h()},h(){d(t,"fill","none"),d(t,"stroke",e[12]),d(t,"d",n=e[8](e[24])),d(t,"opacity",e[13])},m(i,r){J(i,t,r)},p(i,r){r&257&&n!==(n=i[8](i[24]))&&d(t,"d",n)},d(i){i&&T(t)}}}function ja(e){let t,n;return{c(){t=j("path"),this.h()},l(i){t=K(i,"path",{fill:!0,stroke:!0,d:!0}),P(t).forEach(T),this.h()},h(){d(t,"fill","none"),d(t,"stroke",e[9]),d(t,"d",n=e[8](e[21]))},m(i,r){J(i,t,r)},p(i,r){r&258&&n!==(n=i[8](i[21]))&&d(t,"d",n)},d(i){i&&T(t)}}}function Ka(e){let t,n,i;return{c(){t=j("circle"),this.h()},l(r){t=K(r,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),P(t).forEach(T),this.h()},h(){d(t,"cx",n=e[5](e[2][e[16]].COORD)[0]),d(t,"cy",i=e[5](e[2][e[16]].COORD)[1]),d(t,"fill",e[11]),d(t,"r",e[10]-2)},m(r,l){J(r,t,l)},p(r,l){l&44&&n!==(n=r[5](r[2][r[16]].COORD)[0])&&d(t,"cx",n),l&44&&i!==(i=r[5](r[2][r[16]].COORD)[1])&&d(t,"cy",i)},d(r){r&&T(t)}}}function Za(e){let t,n=e[16].split("_")[0]+"",i,r,l;return{c(){t=j("text"),i=x(n),this.h()},l(a){t=K(a,"text",{"font-size":!0,"font-family":!0,"dominant-baseline":!0,"font-weight":!0,x:!0,y:!0});var o=P(t);i=Y(o,n),o.forEach(T),this.h()},h(){d(t,"font-size","10"),d(t,"font-family","sans-serif"),d(t,"dominant-baseline","hanging"),d(t,"font-weight","bold"),d(t,"x",r=De(e[16],e[5],e[2])[0]),d(t,"y",l=De(e[16],e[5],e[2])[1])},m(a,o){J(a,t,o),v(t,i)},p(a,o){o&8&&n!==(n=a[16].split("_")[0]+"")&&Ce(i,n),o&44&&r!==(r=De(a[16],a[5],a[2])[0])&&d(t,"x",r),o&44&&l!==(l=De(a[16],a[5],a[2])[1])&&d(t,"y",l)},d(a){a&&T(t)}}}function Au(e){let t,n,i="Existing Amtrak rail in the Untied States",r,l,a,o,g="",u,f,c="Amtrak Rail Lines",s,h,_,y,R,p,b=Q(e[0].features),m=[];for(let I=0;I<b.length;I+=1)m[I]=Xa(Ya(e,b,I));let w=Q(e[1].features),M=[];for(let I=0;I<w.length;I+=1)M[I]=ja(xa(e,w,I));let C=Q(e[3]),N=[];for(let I=0;I<C.length;I+=1)N[I]=Ka(Wa(e,C,I));let O=Q(e[3]),k=[];for(let I=0;I<O.length;I+=1)k[I]=Za(Ga(e,O,I));return{c(){t=z("div"),n=z("h3"),n.textContent=i,r=F(),l=z("div"),a=z("div"),o=z("div"),o.innerHTML=g,u=F(),f=z("div"),f.textContent=c,s=F(),h=j("svg");for(let I=0;I<m.length;I+=1)m[I].c();_=ne();for(let I=0;I<M.length;I+=1)M[I].c();y=ne();for(let I=0;I<N.length;I+=1)N[I].c();R=ne();for(let I=0;I<k.length;I+=1)k[I].c();this.h()},l(I){t=V(I,"DIV",{class:!0});var L=P(t);n=V(L,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-1k21a4o"&&(n.textContent=i),r=q(L),l=V(L,"DIV",{class:!0});var E=P(l);a=V(E,"DIV",{class:!0});var H=P(a);o=V(H,"DIV",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-16j7ecd"&&(o.innerHTML=g),u=q(H),f=V(H,"DIV",{class:!0,"data-svelte-h":!0}),oe(f)!=="svelte-chq59k"&&(f.textContent=c),H.forEach(T),E.forEach(T),s=q(L),h=K(L,"svg",{width:!0,height:!0});var U=P(h);for(let S=0;S<m.length;S+=1)m[S].l(U);_=ne();for(let S=0;S<M.length;S+=1)M[S].l(U);y=ne();for(let S=0;S<N.length;S+=1)N[S].l(U);R=ne();for(let S=0;S<k.length;S+=1)k[S].l(U);U.forEach(T),L.forEach(T),this.h()},h(){d(n,"class","svelte-exr5s4"),d(o,"class","square svelte-exr5s4"),sn(o,"background-color",e[9]),d(f,"class","swatch-text svelte-exr5s4"),d(a,"class","swatch svelte-exr5s4"),d(l,"class","swatches svelte-exr5s4"),d(h,"width",e[7]),d(h,"height",e[6]),d(t,"class","maps svelte-exr5s4")},m(I,L){J(I,t,L),v(t,n),v(t,r),v(t,l),v(l,a),v(a,o),v(a,u),v(a,f),v(t,s),v(t,h);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(h,null);v(h,_);for(let E=0;E<M.length;E+=1)M[E]&&M[E].m(h,null);v(h,y);for(let E=0;E<N.length;E+=1)N[E]&&N[E].m(h,null);v(h,R);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(h,null);p=mt.observe(t,e[15].bind(t))},p(I,[L]){if(L&12545){b=Q(I[0].features);let E;for(E=0;E<b.length;E+=1){const H=Ya(I,b,E);m[E]?m[E].p(H,L):(m[E]=Xa(H),m[E].c(),m[E].m(h,_))}for(;E<m.length;E+=1)m[E].d(1);m.length=b.length}if(L&770){w=Q(I[1].features);let E;for(E=0;E<w.length;E+=1){const H=xa(I,w,E);M[E]?M[E].p(H,L):(M[E]=ja(H),M[E].c(),M[E].m(h,y))}for(;E<M.length;E+=1)M[E].d(1);M.length=w.length}if(L&3116){C=Q(I[3]);let E;for(E=0;E<C.length;E+=1){const H=Wa(I,C,E);N[E]?N[E].p(H,L):(N[E]=Ka(H),N[E].c(),N[E].m(h,R))}for(;E<N.length;E+=1)N[E].d(1);N.length=C.length}if(L&44){O=Q(I[3]);let E;for(E=0;E<O.length;E+=1){const H=Ga(I,O,E);k[E]?k[E].p(H,L):(k[E]=Za(H),k[E].c(),k[E].m(h,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=O.length}L&128&&d(h,"width",I[7]),L&64&&d(h,"height",I[6])},i:Oe,o:Oe,d(I){I&&T(t),ve(m,I),ve(M,I),ve(N,I),ve(k,I),p()}}}function Lu(e,t,n){let i,r,l,a,{map:o}=t,{railMap:g}=t,{cityCordMap:u}=t,{citiesPlotSet:f}=t,{dims:c}=t,s;f.forEach(m=>{u[m]===void 0&&console.log(`ERRROR RENDERING RAIL MAP FOR CITY ${m}`)});const h=te.AMTRAK_RAIL_COL,_=te.CITY_CIRCLE_R,y=te.CITY_CIRCLE_COL,R=te.MAP_COLOR,p=te.LINE_OPACITY;function b(){var m;s=(m=gt.entries.get(this))==null?void 0:m.borderBoxSize,n(4,s)}return e.$$set=m=>{"map"in m&&n(0,o=m.map),"railMap"in m&&n(1,g=m.railMap),"cityCordMap"in m&&n(2,u=m.cityCordMap),"citiesPlotSet"in m&&n(3,f=m.citiesPlotSet),"dims"in m&&n(14,c=m.dims)},e.$$.update=()=>{e.$$.dirty&16400&&n(7,i=s?_t([s[0].inlineSize,c[0]]):c[0]),e.$$.dirty&16400&&n(6,r=s?_t([s[0].blockSize,c[1]]):c[1]),e.$$.dirty&193&&n(5,l=Mi().fitSize([i,r],o)),e.$$.dirty&32&&n(8,a=Ei().projection(l))},[o,g,u,f,s,l,r,i,a,h,_,y,R,p,c,b]}class Du extends Be{constructor(t){super(),Fe(this,t,Lu,Au,He,{map:0,railMap:1,cityCordMap:2,citiesPlotSet:3,dims:14})}}function Ja(e,t,n){const i=e.slice();return i[12]=t[n],i}function Qa(e){let t,n;return{c(){t=j("path"),this.h()},l(i){t=K(i,"path",{d:!0,stroke:!0,"stroke-width":!0}),P(t).forEach(T),this.h()},h(){d(t,"d",n=Ge()(Oa(e[12],We,e[4],e[3]))),d(t,"stroke",e[10](e[12])),d(t,"stroke-width",e[5])},m(i,r){J(i,t,r)},p(i,r){r&24&&n!==(n=Ge()(Oa(i[12],We,i[4],i[3])))&&d(t,"d",n),r&32&&d(t,"stroke-width",i[5])},d(i){i&&T(t)}}}function Nu(e){let t,n,i,r,l,a,o,g,u,f,c,s,h,_,y,R=Q(e[9]),p=[];for(let b=0;b<R.length;b+=1)p[b]=Qa(Ja(e,R,b));return s=new vn({props:{orientation:"bottom",scale:e[4],width:e[2],height:e[1],margin:e[8],label:"Distance (miles)"}}),h=new vn({props:{orientation:"left",scale:e[3],width:e[2],height:e[1],margin:e[8],label:"Time (minutes)"}}),{c(){t=z("div"),n=j("svg"),i=j("g");for(let b=0;b<p.length;b+=1)p[b].c();r=j("path"),a=j("path"),g=j("path"),f=j("path"),ce(s.$$.fragment),ce(h.$$.fragment),this.h()},l(b){t=V(b,"DIV",{class:!0});var m=P(t);n=K(m,"svg",{height:!0,width:!0});var w=P(n);i=K(w,"g",{});var M=P(i);for(let C=0;C<p.length;C+=1)p[C].l(M);r=K(M,"path",{d:!0,stroke:!0,"stroke-width":!0}),P(r).forEach(T),a=K(M,"path",{d:!0,stroke:!0,"stroke-width":!0}),P(a).forEach(T),g=K(M,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),P(g).forEach(T),f=K(M,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),P(f).forEach(T),M.forEach(T),de(s.$$.fragment,w),de(h.$$.fragment,w),w.forEach(T),m.forEach(T),this.h()},h(){d(r,"d",l=Ge()(ni(e[6],We,e[4],e[3]))),d(r,"stroke",te.ROUTE_STROKE_COL),d(r,"stroke-width",e[5]),d(a,"d",o=Ge()(ni(e[7],We,e[4],e[3]))),d(a,"stroke",te.ROUTE_STROKE_COL),d(a,"stroke-width",e[5]),d(g,"d",u=Ge()(ii(e[6],We,e[4],e[3]))),d(g,"stroke",te.ROUTE_STROKE_COL),d(g,"stroke-width",e[5]),d(g,"stroke-dasharray","3,3"),d(f,"d",c=Ge()(ii(e[7],We,e[4],e[3]))),d(f,"stroke",te.ROUTE_STROKE_COL),d(f,"stroke-width",e[5]),d(f,"stroke-dasharray","3,3"),d(n,"height",e[1]),d(n,"width",e[2]),d(t,"class","timeTriangle svelte-bgzitl")},m(b,m){J(b,t,m),v(t,n),v(n,i);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(i,null);v(i,r),v(i,a),v(i,g),v(i,f),ge(s,n,null),ge(h,n,null),_=mt.observe(t,e[11].bind(t)),y=!0},p(b,[m]){if(m&1592){R=Q(b[9]);let C;for(C=0;C<R.length;C+=1){const N=Ja(b,R,C);p[C]?p[C].p(N,m):(p[C]=Qa(N),p[C].c(),p[C].m(i,r))}for(;C<p.length;C+=1)p[C].d(1);p.length=R.length}(!y||m&24&&l!==(l=Ge()(ni(b[6],We,b[4],b[3]))))&&d(r,"d",l),(!y||m&32)&&d(r,"stroke-width",b[5]),(!y||m&24&&o!==(o=Ge()(ni(b[7],We,b[4],b[3]))))&&d(a,"d",o),(!y||m&32)&&d(a,"stroke-width",b[5]),(!y||m&24&&u!==(u=Ge()(ii(b[6],We,b[4],b[3]))))&&d(g,"d",u),(!y||m&32)&&d(g,"stroke-width",b[5]),(!y||m&24&&c!==(c=Ge()(ii(b[7],We,b[4],b[3]))))&&d(f,"d",c),(!y||m&32)&&d(f,"stroke-width",b[5]);const w={};m&16&&(w.scale=b[4]),m&4&&(w.width=b[2]),m&2&&(w.height=b[1]),s.$set(w);const M={};m&8&&(M.scale=b[3]),m&4&&(M.width=b[2]),m&2&&(M.height=b[1]),h.$set(M),(!y||m&2)&&d(n,"height",b[1]),(!y||m&4)&&d(n,"width",b[2])},i(b){y||(se(s.$$.fragment,b),se(h.$$.fragment,b),y=!0)},o(b){fe(s.$$.fragment,b),fe(h.$$.fragment,b),y=!1},d(b){b&&T(t),ve(p,b),me(s),me(h),_()}}}const $a=1.25,ri=500,We=2724;function Pu(e,t,n){let i,r,l,a,o;const g=Me.triangleLower,u=Me.triangleUpper,f={top:50,right:50,bottom:50,left:50};let c;const s=[Ne,Ti,Zr],h=ol().domain(s).range([te.PLANE_COLOR,te.TRAIN_COLOR,te.CAR_COLOR]);function _(){var y;c=(y=gt.entries.get(this))==null?void 0:y.borderBoxSize,n(0,c)}return e.$$.update=()=>{e.$$.dirty&1&&n(2,i=c?Math.max(Math.min(c[0].blockSize,c[0].inlineSize),ri)*$a:ri*$a),e.$$.dirty&1&&n(1,r=c?Math.max(Math.min(c[0].blockSize,c[0].inlineSize),ri):ri),e.$$.dirty&4&&n(5,l=i/200),e.$$.dirty&4&&n(4,a=pn().domain([0,600]).range([f.left,i-f.right])),e.$$.dirty&2&&n(3,o=pn().domain([0,350]).range([r-f.bottom,f.top]))},[c,r,i,o,a,l,g,u,f,s,h,_]}class Hu extends Be{constructor(t){super(),Fe(this,t,Pu,Nu,He,{})}}function eo(e,t,n){const i=e.slice();return i[7]=t[n],i}function to(e){let t,n,i=e[3]()+"",r,l,a,o=ct($(e[7])[0])+"",g,u,f=dt($(e[7])[0])+"",c,s,h=ct($(e[7])[1])+"",_,y,R=dt($(e[7])[1])+"",p,b,m,w;function M(){return e[4](e[7])}function C(){return e[5](e[7])}return{c(){t=z("tr"),n=z("td"),r=x(i),l=F(),a=z("td"),g=x(o),u=x(", "),c=x(f),s=x(" - "),_=x(h),y=x(", "),p=x(R),b=F(),this.h()},l(N){t=V(N,"TR",{class:!0});var O=P(t);n=V(O,"TD",{class:!0});var k=P(n);r=Y(k,i),k.forEach(T),l=q(O),a=V(O,"TD",{class:!0});var I=P(a);g=Y(I,o),u=Y(I,", "),c=Y(I,f),s=Y(I," - "),_=Y(I,h),y=Y(I,", "),p=Y(I,R),I.forEach(T),b=q(O),O.forEach(T),this.h()},h(){d(n,"class","svelte-oe0yqr"),d(a,"class","svelte-oe0yqr"),d(t,"class","svelte-oe0yqr")},m(N,O){J(N,t,O),v(t,n),v(n,r),v(t,l),v(t,a),v(a,g),v(a,u),v(a,c),v(a,s),v(a,_),v(a,y),v(a,p),v(t,b),m||(w=[fi(t,"mouseover",M),fi(t,"focus",C)],m=!0)},p(N,O){e=N,O&1&&o!==(o=ct($(e[7])[0])+"")&&Ce(g,o),O&1&&f!==(f=dt($(e[7])[0])+"")&&Ce(c,f),O&1&&h!==(h=ct($(e[7])[1])+"")&&Ce(_,h),O&1&&R!==(R=dt($(e[7])[1])+"")&&Ce(p,R)},d(N){N&&T(t),m=!1,Jr(w)}}}function zu(e){let t,n,i="Iterated gravity model results: rail locations",r,l,a,o='<th class="svelte-oe0yqr">Order Built</th> <th class="svelte-oe0yqr">Pairwise City</th>',g,u=Q(e[0]),f=[];for(let c=0;c<u.length;c+=1)f[c]=to(eo(e,u,c));return{c(){t=z("div"),n=z("h3"),n.textContent=i,r=F(),l=z("table"),a=z("tr"),a.innerHTML=o,g=F();for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){t=V(c,"DIV",{class:!0});var s=P(t);n=V(s,"H3",{"data-svelte-h":!0}),oe(n)!=="svelte-1jy95lp"&&(n.textContent=i),r=q(s),l=V(s,"TABLE",{class:!0});var h=P(l);a=V(h,"TR",{class:!0,"data-svelte-h":!0}),oe(a)!=="svelte-bxijdv"&&(a.innerHTML=o),g=q(h);for(let _=0;_<f.length;_+=1)f[_].l(h);h.forEach(T),s.forEach(T),this.h()},h(){d(a,"class","svelte-oe0yqr"),d(l,"class","svelte-oe0yqr"),d(t,"class","TopChart svelte-oe0yqr")},m(c,s){J(c,t,s),v(t,n),v(t,r),v(t,l),v(l,a),v(l,g);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(l,null)},p(c,[s]){if(s&15){u=Q(c[0]);let h;for(h=0;h<u.length;h+=1){const _=eo(c,u,h);f[h]?f[h].p(_,s):(f[h]=to(_),f[h].c(),f[h].m(l,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=u.length}},i:Oe,o:Oe,d(c){c&&T(t),ve(f,c)}}}function Vu(e,t,n){let{railLines:i}=t,{mapId:r}=t,{onhover:l}=t,a=1;const o=()=>a++,g=f=>l(f,r),u=f=>l(f,r);return e.$$set=f=>{"railLines"in f&&n(0,i=f.railLines),"mapId"in f&&n(1,r=f.mapId),"onhover"in f&&n(2,l=f.onhover)},[i,r,l,o,g,u]}class Uu extends Be{constructor(t){super(),Fe(this,t,Vu,zu,He,{railLines:0,mapId:1,onhover:2})}}function no(e,t,n){const i=e.slice();return i[24]=t[n],i}function io(e,t,n){const i=e.slice();return i[24]=t[n],i}function ro(e,t,n){const i=e.slice();return i[29]=t[n],i}function lo(e,t,n){const i=e.slice();return i[32]=t[n],i}function ao(e){let t,n;return{c(){t=j("path"),this.h()},l(i){t=K(i,"path",{fill:!0,stroke:!0,d:!0}),P(t).forEach(T),this.h()},h(){d(t,"fill","none"),d(t,"stroke",e[13]),d(t,"d",n=e[8](e[32]))},m(i,r){J(i,t,r)},p(i,r){r[0]&260&&n!==(n=i[8](i[32]))&&d(t,"d",n)},d(i){i&&T(t)}}}function oo(e){let t,n,i,r,l;return{c(){t=j("line"),this.h()},l(a){t=K(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(t).forEach(T),this.h()},h(){d(t,"x1",n=e[7](e[29],0,0)),d(t,"y1",i=e[7](e[29],0,1)),d(t,"x2",r=e[7](e[29],1,0)),d(t,"y2",l=e[7](e[29],1,1)),d(t,"stroke",e[12]),d(t,"stroke-width",2.5),d(t,"opacity",e[14])},m(a,o){J(a,t,o)},p(a,o){o[0]&128&&n!==(n=a[7](a[29],0,0))&&d(t,"x1",n),o[0]&128&&i!==(i=a[7](a[29],0,1))&&d(t,"y1",i),o[0]&128&&r!==(r=a[7](a[29],1,0))&&d(t,"x2",r),o[0]&128&&l!==(l=a[7](a[29],1,1))&&d(t,"y2",l)},d(a){a&&T(t)}}}function so(e){let t,n,i;return{c(){t=j("circle"),this.h()},l(r){t=K(r,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),P(t).forEach(T),this.h()},h(){d(t,"cx",n=e[6](e[3][e[24]].COORD)[0]),d(t,"cy",i=e[6](e[3][e[24]].COORD)[1]),d(t,"fill",e[12]),d(t,"r",e[11]-2)},m(r,l){J(r,t,l)},p(r,l){l[0]&72&&n!==(n=r[6](r[3][r[24]].COORD)[0])&&d(t,"cx",n),l[0]&72&&i!==(i=r[6](r[3][r[24]].COORD)[1])&&d(t,"cy",i)},d(r){r&&T(t)}}}function fo(e){let t,n=e[24].split("_")[0]+"",i,r,l;return{c(){t=j("text"),i=x(n),this.h()},l(a){t=K(a,"text",{"font-size":!0,"font-family":!0,"dominant-baseline":!0,"font-weight":!0,x:!0,y:!0});var o=P(t);i=Y(o,n),o.forEach(T),this.h()},h(){d(t,"font-size","10"),d(t,"font-family","sans-serif"),d(t,"dominant-baseline","hanging"),d(t,"font-weight","bold"),d(t,"x",r=De(e[24],e[6],e[3])[0]),d(t,"y",l=De(e[24],e[6],e[3])[1])},m(a,o){J(a,t,o),v(t,i)},p(a,o){o[0]&72&&r!==(r=De(a[24],a[6],a[3])[0])&&d(t,"x",r),o[0]&72&&l!==(l=De(a[24],a[6],a[3])[1])&&d(t,"y",l)},d(a){a&&T(t)}}}function uo(e){let t,n,i,r,l,a,o,g,u,f,c;return{c(){t=j("line"),a=j("circle"),u=j("circle"),this.h()},l(s){t=K(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(t).forEach(T),a=K(s,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),P(a).forEach(T),u=K(s,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),P(u).forEach(T),this.h()},h(){d(t,"x1",n=e[7](e[4],0,0)),d(t,"y1",i=e[7](e[4],0,1)),d(t,"x2",r=e[7](e[4],1,0)),d(t,"y2",l=e[7](e[4],1,1)),d(t,"stroke",Mr),d(t,"stroke-width",3.5),d(t,"opacity",e[14]),d(a,"cx",o=e[6](e[3][$(e[4])[0]].COORD)[0]),d(a,"cy",g=e[6](e[3][$(e[4])[0]].COORD)[1]),d(a,"fill",Mr),d(a,"r",e[11]+1.75),d(u,"cx",f=e[6](e[3][$(e[4])[1]].COORD)[0]),d(u,"cy",c=e[6](e[3][$(e[4])[1]].COORD)[1]),d(u,"fill",Mr),d(u,"r",e[11]+1.75)},m(s,h){J(s,t,h),J(s,a,h),J(s,u,h)},p(s,h){h[0]&144&&n!==(n=s[7](s[4],0,0))&&d(t,"x1",n),h[0]&144&&i!==(i=s[7](s[4],0,1))&&d(t,"y1",i),h[0]&144&&r!==(r=s[7](s[4],1,0))&&d(t,"x2",r),h[0]&144&&l!==(l=s[7](s[4],1,1))&&d(t,"y2",l),h[0]&88&&o!==(o=s[6](s[3][$(s[4])[0]].COORD)[0])&&d(a,"cx",o),h[0]&88&&g!==(g=s[6](s[3][$(s[4])[0]].COORD)[1])&&d(a,"cy",g),h[0]&88&&f!==(f=s[6](s[3][$(s[4])[1]].COORD)[0])&&d(u,"cx",f),h[0]&88&&c!==(c=s[6](s[3][$(s[4])[1]].COORD)[1])&&d(u,"cy",c)},d(s){s&&(T(t),T(a),T(u))}}}function Bu(e){let t,n,i,r,l,a,o,g=Q(e[2].features),u=[];for(let p=0;p<g.length;p+=1)u[p]=ao(lo(e,g,p));let f=Q(e[9]),c=[];for(let p=0;p<f.length;p+=1)c[p]=oo(ro(e,f,p));let s=Q(e[10]),h=[];for(let p=0;p<s.length;p+=1)h[p]=so(io(e,s,p));let _=Q(e[10]),y=[];for(let p=0;p<_.length;p+=1)y[p]=fo(no(e,_,p));let R=e[4]&&uo(e);return{c(){t=z("div"),n=j("svg");for(let p=0;p<u.length;p+=1)u[p].c();i=ne();for(let p=0;p<c.length;p+=1)c[p].c();r=ne();for(let p=0;p<h.length;p+=1)h[p].c();l=ne();for(let p=0;p<y.length;p+=1)y[p].c();a=ne(),R&&R.c(),this.h()},l(p){t=V(p,"DIV",{class:!0});var b=P(t);n=K(b,"svg",{width:!0,height:!0});var m=P(n);for(let w=0;w<u.length;w+=1)u[w].l(m);i=ne();for(let w=0;w<c.length;w+=1)c[w].l(m);r=ne();for(let w=0;w<h.length;w+=1)h[w].l(m);l=ne();for(let w=0;w<y.length;w+=1)y[w].l(m);a=ne(),R&&R.l(m),m.forEach(T),b.forEach(T),this.h()},h(){d(n,"width",e[0]),d(n,"height",e[1]),d(t,"class","maps svelte-1k7tti5")},m(p,b){J(p,t,b),v(t,n);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(n,null);v(n,i);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(n,null);v(n,r);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(n,null);v(n,l);for(let m=0;m<y.length;m+=1)y[m]&&y[m].m(n,null);v(n,a),R&&R.m(n,null),o=mt.observe(t,e[17].bind(t))},p(p,b){if(b[0]&8452){g=Q(p[2].features);let m;for(m=0;m<g.length;m+=1){const w=lo(p,g,m);u[m]?u[m].p(w,b):(u[m]=ao(w),u[m].c(),u[m].m(n,i))}for(;m<u.length;m+=1)u[m].d(1);u.length=g.length}if(b[0]&21120){f=Q(p[9]);let m;for(m=0;m<f.length;m+=1){const w=ro(p,f,m);c[m]?c[m].p(w,b):(c[m]=oo(w),c[m].c(),c[m].m(n,r))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}if(b[0]&7240){s=Q(p[10]);let m;for(m=0;m<s.length;m+=1){const w=io(p,s,m);h[m]?h[m].p(w,b):(h[m]=so(w),h[m].c(),h[m].m(n,l))}for(;m<h.length;m+=1)h[m].d(1);h.length=s.length}if(b[0]&1096){_=Q(p[10]);let m;for(m=0;m<_.length;m+=1){const w=no(p,_,m);y[m]?y[m].p(w,b):(y[m]=fo(w),y[m].c(),y[m].m(n,a))}for(;m<y.length;m+=1)y[m].d(1);y.length=_.length}p[4]?R?R.p(p,b):(R=uo(p),R.c(),R.m(n,null)):R&&(R.d(1),R=null),b[0]&1&&d(n,"width",p[0]),b[0]&2&&d(n,"height",p[1])},i:Oe,o:Oe,d(p){p&&T(t),ve(u,p),ve(c,p),ve(h,p),ve(y,p),R&&R.d(),o()}}}const Mr="#FF4D4D";function Fu(e,t,n){let i,r,l,{map:a}=t,{cities:o}=t,{cityCordMap:g}=t,{highlightedRoute:u}=t,{dims:f}=t,{width:c}=t,{height:s}=t,h,_=[],y=[];o.forEach(C=>{let N=$(C)[0],O=$(C)[1];g[N]===void 0||g[O]===void 0||(_.push(N),_.push(O),y.push(C))});const R=new Set(_),p=te.CITY_CIRCLE_R,b=te.HSR_ROUTE_COL,m=te.MAP_COLOR,w=te.LINE_OPACITY;function M(){var C;h=(C=gt.entries.get(this))==null?void 0:C.borderBoxSize,n(5,h)}return e.$$set=C=>{"map"in C&&n(2,a=C.map),"cities"in C&&n(15,o=C.cities),"cityCordMap"in C&&n(3,g=C.cityCordMap),"highlightedRoute"in C&&n(4,u=C.highlightedRoute),"dims"in C&&n(16,f=C.dims),"width"in C&&n(0,c=C.width),"height"in C&&n(1,s=C.height)},e.$$.update=()=>{e.$$.dirty[0]&65568&&n(0,c=h?_t([h[0].inlineSize,f[0]]):f[0]),e.$$.dirty[0]&65568&&n(1,s=h?_t([h[0].blockSize,f[1]]):f[1]),e.$$.dirty[0]&7&&n(6,i=Mi().fitSize([c,s],a)),e.$$.dirty[0]&64&&n(8,r=Ei().projection(i)),e.$$.dirty[0]&72&&n(7,l=(C,N,O)=>i(g[$(C)[N]].COORD)[O])},[c,s,a,g,u,h,i,l,r,y,R,p,b,m,w,o,f,M]}class qu extends Be{constructor(t){super(),Fe(this,t,Fu,Bu,He,{map:2,cities:15,cityCordMap:3,highlightedRoute:4,dims:16,width:0,height:1},null,[-1,-1])}}function ho(e,t,n){const i=e.slice();return i[20]=t[n],i}function co(e,t,n){const i=e.slice();return i[20]=t[n],i}function go(e,t,n){const i=e.slice();return i[25]=t[n][0],i[26]=t[n][1],i}function mo(e,t,n){const i=e.slice();return i[29]=t[n],i}function _o(e){let t,n;return{c(){t=j("path"),this.h()},l(i){t=K(i,"path",{fill:!0,stroke:!0,d:!0}),P(t).forEach(T),this.h()},h(){d(t,"fill","none"),d(t,"stroke",e[13]),d(t,"d",n=e[6](e[29]))},m(i,r){J(i,t,r)},p(i,r){r[0]&65&&n!==(n=i[6](i[29]))&&d(t,"d",n)},d(i){i&&T(t)}}}function po(e){let t,n,i,r,l;return{c(){t=j("line"),this.h()},l(a){t=K(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),P(t).forEach(T),this.h()},h(){d(t,"x1",n=e[7](e[25],0,0)),d(t,"y1",i=e[7](e[25],0,1)),d(t,"x2",r=e[7](e[25],1,0)),d(t,"y2",l=e[7](e[25],1,1)),d(t,"stroke",e[26]?e[10]:ns),d(t,"stroke-width",2.5),d(t,"opacity",e[14])},m(a,o){J(a,t,o)},p(a,o){o[0]&128&&n!==(n=a[7](a[25],0,0))&&d(t,"x1",n),o[0]&128&&i!==(i=a[7](a[25],0,1))&&d(t,"y1",i),o[0]&128&&r!==(r=a[7](a[25],1,0))&&d(t,"x2",r),o[0]&128&&l!==(l=a[7](a[25],1,1))&&d(t,"y2",l)},d(a){a&&T(t)}}}function vo(e){let t,n,i;return{c(){t=j("circle"),this.h()},l(r){t=K(r,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),P(t).forEach(T),this.h()},h(){d(t,"cx",n=e[3](e[1][e[20]].COORD)[0]),d(t,"cy",i=e[3](e[1][e[20]].COORD)[1]),d(t,"fill",e[12]),d(t,"r",e[11]-2)},m(r,l){J(r,t,l)},p(r,l){l[0]&10&&n!==(n=r[3](r[1][r[20]].COORD)[0])&&d(t,"cx",n),l[0]&10&&i!==(i=r[3](r[1][r[20]].COORD)[1])&&d(t,"cy",i)},d(r){r&&T(t)}}}function wo(e){let t,n=e[20].split("_")[0]+"",i,r,l;return{c(){t=j("text"),i=x(n),this.h()},l(a){t=K(a,"text",{"font-size":!0,"font-family":!0,"dominant-baseline":!0,"font-weight":!0,x:!0,y:!0});var o=P(t);i=Y(o,n),o.forEach(T),this.h()},h(){d(t,"font-size","10"),d(t,"font-family","sans-serif"),d(t,"dominant-baseline","hanging"),d(t,"font-weight","bold"),d(t,"x",r=De(e[20],e[3],e[1])[0]),d(t,"y",l=De(e[20],e[3],e[1])[1])},m(a,o){J(a,t,o),v(t,i)},p(a,o){o[0]&10&&r!==(r=De(a[20],a[3],a[1])[0])&&d(t,"x",r),o[0]&10&&l!==(l=De(a[20],a[3],a[1])[1])&&d(t,"y",l)},d(a){a&&T(t)}}}function Gu(e){let t,n,i="Proposed HSR routes which already have existing Amtrak rail connections",r,l,a,o,g="",u,f,c="There does not exist Amtrak rail connection",s,h,_,y="",R,p,b="Exists a direct Amtrak rail connection between 2 cities",m,w,M,C,N,O,k=Q(e[0].features),I=[];for(let A=0;A<k.length;A+=1)I[A]=_o(mo(e,k,A));let L=Q(e[9]),E=[];for(let A=0;A<L.length;A+=1)E[A]=po(go(e,L,A));let H=Q(e[8]),U=[];for(let A=0;A<H.length;A+=1)U[A]=vo(co(e,H,A));let S=Q(e[8]),B=[];for(let A=0;A<S.length;A+=1)B[A]=wo(ho(e,S,A));return{c(){t=z("div"),n=z("h3"),n.textContent=i,r=F(),l=z("div"),a=z("div"),o=z("div"),o.innerHTML=g,u=F(),f=z("div"),f.textContent=c,s=F(),h=z("div"),_=z("div"),_.innerHTML=y,R=F(),p=z("div"),p.textContent=b,m=F(),w=j("svg");for(let A=0;A<I.length;A+=1)I[A].c();M=ne();for(let A=0;A<E.length;A+=1)E[A].c();C=ne();for(let A=0;A<U.length;A+=1)U[A].c();N=ne();for(let A=0;A<B.length;A+=1)B[A].c();this.h()},l(A){t=V(A,"DIV",{class:!0});var W=P(t);n=V(W,"H3",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-v4gm52"&&(n.textContent=i),r=q(W),l=V(W,"DIV",{class:!0});var D=P(l);a=V(D,"DIV",{class:!0});var ae=P(a);o=V(ae,"DIV",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-dkmyak"&&(o.innerHTML=g),u=q(ae),f=V(ae,"DIV",{class:!0,"data-svelte-h":!0}),oe(f)!=="svelte-hsr8qc"&&(f.textContent=c),ae.forEach(T),s=q(D),h=V(D,"DIV",{class:!0});var we=P(h);_=V(we,"DIV",{class:!0,"data-svelte-h":!0}),oe(_)!=="svelte-16j7ecd"&&(_.innerHTML=y),R=q(we),p=V(we,"DIV",{class:!0,"data-svelte-h":!0}),oe(p)!=="svelte-1vmyyfm"&&(p.textContent=b),we.forEach(T),D.forEach(T),m=q(W),w=K(W,"svg",{width:!0,height:!0});var pe=P(w);for(let ie=0;ie<I.length;ie+=1)I[ie].l(pe);M=ne();for(let ie=0;ie<E.length;ie+=1)E[ie].l(pe);C=ne();for(let ie=0;ie<U.length;ie+=1)U[ie].l(pe);N=ne();for(let ie=0;ie<B.length;ie+=1)B[ie].l(pe);pe.forEach(T),W.forEach(T),this.h()},h(){d(n,"class","svelte-v1l0py"),d(o,"class","square svelte-v1l0py"),sn(o,"background-color",ns),d(f,"class","swatch-text svelte-v1l0py"),d(a,"class","swatch svelte-v1l0py"),d(_,"class","square svelte-v1l0py"),sn(_,"background-color",e[10]),d(p,"class","swatch-text svelte-v1l0py"),d(h,"class","swatch svelte-v1l0py"),d(l,"class","swatches svelte-v1l0py"),d(w,"width",e[5]),d(w,"height",e[4]),d(t,"class","maps svelte-v1l0py")},m(A,W){J(A,t,W),v(t,n),v(t,r),v(t,l),v(l,a),v(a,o),v(a,u),v(a,f),v(l,s),v(l,h),v(h,_),v(h,R),v(h,p),v(t,m),v(t,w);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(w,null);v(w,M);for(let D=0;D<E.length;D+=1)E[D]&&E[D].m(w,null);v(w,C);for(let D=0;D<U.length;D+=1)U[D]&&U[D].m(w,null);v(w,N);for(let D=0;D<B.length;D+=1)B[D]&&B[D].m(w,null);O=mt.observe(t,e[17].bind(t))},p(A,W){if(W[0]&8257){k=Q(A[0].features);let D;for(D=0;D<k.length;D+=1){const ae=mo(A,k,D);I[D]?I[D].p(ae,W):(I[D]=_o(ae),I[D].c(),I[D].m(w,M))}for(;D<I.length;D+=1)I[D].d(1);I.length=k.length}if(W[0]&18048){L=Q(A[9]);let D;for(D=0;D<L.length;D+=1){const ae=go(A,L,D);E[D]?E[D].p(ae,W):(E[D]=po(ae),E[D].c(),E[D].m(w,C))}for(;D<E.length;D+=1)E[D].d(1);E.length=L.length}if(W[0]&6410){H=Q(A[8]);let D;for(D=0;D<H.length;D+=1){const ae=co(A,H,D);U[D]?U[D].p(ae,W):(U[D]=vo(ae),U[D].c(),U[D].m(w,N))}for(;D<U.length;D+=1)U[D].d(1);U.length=H.length}if(W[0]&266){S=Q(A[8]);let D;for(D=0;D<S.length;D+=1){const ae=ho(A,S,D);B[D]?B[D].p(ae,W):(B[D]=wo(ae),B[D].c(),B[D].m(w,null))}for(;D<B.length;D+=1)B[D].d(1);B.length=S.length}W[0]&32&&d(w,"width",A[5]),W[0]&16&&d(w,"height",A[4])},i:Oe,o:Oe,d(A){A&&T(t),ve(I,A),ve(E,A),ve(U,A),ve(B,A),O()}}}const ns="#33a02c";function Wu(e,t,n){let i,r,l,a,o,{map:g}=t,{cityCordMap:u}=t,{cities:f}=t,{dims:c}=t;const s=new Set;let h=[];const _={"(Las Vegas_NV, Los Angeles_CA)":!1,"(Boston_MA, New York_NY)":!0,"(New York_NY, Washington_DC)":!0,"(Dallas_TX, Houston_TX)":!0,"(Austin_TX, Dallas_TX)":!0,"(Portland_OR, Seattle_WA)":!0,"(Charlotte_NC, Raleigh_NC)":!0,"(Los Angeles_CA, San Francisco_CA)":!0,"(Austin_TX, Houston_TX)":!0,"(Austin_TX, San Antonio_TX)":!0,"(Norfolk_VA, Washington_DC)":!0,"(Miami_FL, Orlando_FL)":!0,"(Fort Lauderdale_FL, Miami_FL)":!0,"(Atlanta_GA, Greenville_SC)":!0,"(Chicago_IL, Grand Rapids_MI)":!0,"(Dallas_TX, Oklahoma City_OK)":!0,"(Charleston_SC, Charlotte_NC)":!1,"(Atlanta_GA, Birmingham_AL)":!0,"(Las Vegas_NV, Phoenix_AZ)":!1,"(Las Vegas_NV, San Diego_CA)":!1,"(Chicago_IL, Detroit_MI)":!0,"(Charlotte_NC, Greenville_SC)":!0,"(Atlanta_GA, Nashville_TN)":!1,"(Charlotte_NC, Myrtle Beach_SC)":!1,"(Chicago_IL, Indianapolis_IN)":!0,"(Raleigh_NC, Washington_DC)":!0,"(Asheville_NC, Greenville_SC)":!1,"(Seattle_WA, Spokane_WA)":!0,"(Atlanta_GA, Huntsville_AL)":!1,"(Atlanta_GA, Knoxville_TN)":!1};f.forEach(C=>{let N=$(C)[0],O=$(C)[1];s.add(N),s.add(O),h.push([C,_[C]])});let y;const R=te.HSR_ROUTE_COL,p=te.CITY_CIRCLE_R,b=te.CITY_CIRCLE_COL,m=te.MAP_COLOR,w=te.LINE_OPACITY;function M(){var C;y=(C=gt.entries.get(this))==null?void 0:C.borderBoxSize,n(2,y)}return e.$$set=C=>{"map"in C&&n(0,g=C.map),"cityCordMap"in C&&n(1,u=C.cityCordMap),"cities"in C&&n(15,f=C.cities),"dims"in C&&n(16,c=C.dims)},e.$$.update=()=>{e.$$.dirty[0]&4&&n(5,i=y?Math.max(y[0].inlineSize,400):400),e.$$.dirty[0]&4&&n(4,r=y?Math.max(y[0].blockSize,400):400),e.$$.dirty[0]&49&&n(3,a=Mi().fitSize([i,r],g)),e.$$.dirty[0]&10&&n(7,l=(C,N,O)=>a(u[$(C)[N]].COORD)[O]),e.$$.dirty[0]&8&&n(6,o=Ei().projection(a))},[g,u,y,a,r,i,o,l,s,h,R,p,b,m,w,f,c,M]}class xu extends Be{constructor(t){super(),Fe(this,t,Wu,Gu,He,{map:0,cityCordMap:1,cities:15,dims:16},null,[-1,-1])}}function yo(e,t,n){const i=e.slice();return i[22]=t[n],i}function bo(e){let t,n,i,r,l;return{c(){t=j("rect"),this.h()},l(a){t=K(a,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),P(t).forEach(T),this.h()},h(){d(t,"x",n=e[6](Aa(e[22].x0,e[13]))+1),d(t,"y",i=e[10](Xt(e[22],Ro))),d(t,"height",r=e[10](0)-e[10](Xt(e[22],Co))),d(t,"width",e[9]),d(t,"fill",l=Si(e[22].x0*e[4])?e[3]:e[2]),d(t,"class","svelte-1a0i2ae")},m(a,o){J(a,t,o)},p(a,o){o&64&&n!==(n=a[6](Aa(a[22].x0,a[13]))+1)&&d(t,"x",n),o&1024&&i!==(i=a[10](Xt(a[22],Ro)))&&d(t,"y",i),o&1024&&r!==(r=a[10](0)-a[10](Xt(a[22],Co)))&&d(t,"height",r),o&512&&d(t,"width",a[9]),o&28&&l!==(l=Si(a[22].x0*a[4])?a[3]:a[2])&&d(t,"fill",l)},d(a){a&&T(t)}}}function Yu(e){let t,n,i,r,l,a,o,g=Q(e[11]),u=[];for(let f=0;f<g.length;f+=1)u[f]=bo(yo(e,g,f));return r=new vn({props:{orientation:"bottom",scale:e[6],width:e[8],height:e[7],margin:e[12],label:e[0]}}),l=new vn({props:{orientation:"left",scale:e[10],width:e[8],height:e[7],margin:e[12],label:e[1]}}),{c(){t=z("div"),n=j("svg"),i=j("g");for(let f=0;f<u.length;f+=1)u[f].c();ce(r.$$.fragment),ce(l.$$.fragment),this.h()},l(f){t=V(f,"DIV",{class:!0});var c=P(t);n=K(c,"svg",{height:!0,width:!0});var s=P(n);i=K(s,"g",{});var h=P(i);for(let _=0;_<u.length;_+=1)u[_].l(h);h.forEach(T),de(r.$$.fragment,s),de(l.$$.fragment,s),s.forEach(T),c.forEach(T),this.h()},h(){d(n,"height",e[7]),d(n,"width",e[8]),d(t,"class","histogram svelte-1a0i2ae")},m(f,c){J(f,t,c),v(t,n),v(n,i);for(let s=0;s<u.length;s+=1)u[s]&&u[s].m(i,null);ge(r,n,null),ge(l,n,null),a=mt.observe(t,e[19].bind(t)),o=!0},p(f,[c]){if(c&11868){g=Q(f[11]);let _;for(_=0;_<g.length;_+=1){const y=yo(f,g,_);u[_]?u[_].p(y,c):(u[_]=bo(y),u[_].c(),u[_].m(i,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=g.length}const s={};c&64&&(s.scale=f[6]),c&256&&(s.width=f[8]),c&128&&(s.height=f[7]),c&1&&(s.label=f[0]),r.$set(s);const h={};c&1024&&(h.scale=f[10]),c&256&&(h.width=f[8]),c&128&&(h.height=f[7]),c&2&&(h.label=f[1]),l.$set(h),(!o||c&128)&&d(n,"height",f[7]),(!o||c&256)&&d(n,"width",f[8])},i(f){o||(se(r.$$.fragment,f),se(l.$$.fragment,f),o=!0)},o(f){fe(r.$$.fragment,f),fe(l.$$.fragment,f),o=!1},d(f){f&&T(t),ve(u,f),me(r),me(l),a()}}}function Xu(e,t){return e.AVG_TOTAL_TIME}const Ro=e=>e[1].NUM_DEPARTURES,Co=e=>e[1].NUM_DEPARTURES;function ju(e,t,n){let i,r,l,a,o,{dataset:g}=t,{xLabel:u}=t,{yLabel:f}=t,{color:c}=t,{triangleColor:s}=t,{minDimSize:h}=t,{providedAccessorFunction:_}=t,{timeUnitConversion:y}=t,{thresholds:R}=t,{maxBinSize:p}=t;const b=_||Xu;let m=g,w=Ss().thresholds(R).value(k=>b(k[1],y))(m),M;const C={top:45,bottom:45,left:120,right:80},N=R[1]-R[0];function O(){var k;M=(k=gt.entries.get(this))==null?void 0:k.borderBoxSize,n(5,M)}return e.$$set=k=>{"dataset"in k&&n(14,g=k.dataset),"xLabel"in k&&n(0,u=k.xLabel),"yLabel"in k&&n(1,f=k.yLabel),"color"in k&&n(2,c=k.color),"triangleColor"in k&&n(3,s=k.triangleColor),"minDimSize"in k&&n(15,h=k.minDimSize),"providedAccessorFunction"in k&&n(16,_=k.providedAccessorFunction),"timeUnitConversion"in k&&n(4,y=k.timeUnitConversion),"thresholds"in k&&n(17,R=k.thresholds),"maxBinSize"in k&&n(18,p=k.maxBinSize)},e.$$.update=()=>{e.$$.dirty&32800&&n(8,i=M?Math.max(M[0].inlineSize,h[0]):h[0]),e.$$.dirty&32800&&n(7,r=M?Math.max(M[0].blockSize,h[1]):h[1]),e.$$.dirty&131328&&n(6,l=pn().domain([R[0],R[R.length-1]]).range([C.left,i-C.right])),e.$$.dirty&262272&&n(10,a=pn().domain([0,p]).range([r-C.bottom,C.top])),e.$$.dirty&131136&&n(9,o=l(R[1])-l(R[0])-1)},[u,f,c,s,y,M,l,r,i,o,a,w,C,N,g,h,_,R,p,O]}class kr extends Be{constructor(t){super(),Fe(this,t,ju,Yu,He,{dataset:14,xLabel:0,yLabel:1,color:2,triangleColor:3,minDimSize:15,providedAccessorFunction:16,timeUnitConversion:4,thresholds:17,maxBinSize:18})}}function Ku(e){let t,n,i='<h2 class="svelte-51pmeo">High Speed Rail (HSR) in the US</h2>',r,l,a,o="How do people travel long distances in the US?",g,u,f,c,s=e[3].length+"",h,_,y,R,p,b,m,w,M,C,N="What are the popular airline routes in the US?",O,k,I,L,E,H,U,S,B,A,W="How much time is spent taking these routes?",D,ae,we="The bar chart on the left shows the average time for each step involved in flying. The histogram on the right displays the distribution of total travel times for all 2023 flights within the continental US.",pe,ie,be,Z,ee,Hn,je,zn=`<p>Besides the time spent in the air on a plane, there are several additional steps involved in air travel that, in total, can add hours to a trip. 
				One major inconvenience associated with flying is the TSA — the restrictions and the time it takes to go through TSA security at the airport. 
				Security lines can be very long, especially when the airport is very busy. 
				Since no one can anticipate how long the wait in the security line will be, TSA recommends that people arrive at the airport two hours before their flight. 
				Thus, even if the security line is short, travelers may still end up spending over an hour at the airport waiting to board. 
				Additionally, commuting to and from the airport often totals to an hour or more. 
				Finally, although the actual air travel is fast, passengers also end up spending significant time on the airplane before takeoff and after landing for taxiing, boarding, preparing the cabin for takeoff and delays.</p>`,wn,pt,sl="Is there a faster way?",ki,vt,fl=`<p>When factoring in time spent waiting at the airport or on the plane, along with time it takes to get to and from the airport, there are indeed faster alternatives to flying for certain distances of travel. 
			For example, the fastest way to get across the world is flying, while the fastest way to get to the other side of town is likely to drive. 
			Traveling a distance between these two extremes lends itself to rail travel, specifically high speed rail (HSR). 
			The fastest train in the US, Amtrak&#39;s Acela line, has an average speed of 70 MPH (113 km/hr). 
			This does not meet the required average speed of 124 MPH (200 km/hr) to be classified as &quot;high speed.&quot; 
			Thus, the United States currently has no functional HSR, despite the prevalence and success of HSR in many other nations including Japan and several European countries such as the UK, France, Italy, and Germany.</p>`,Oi,ze,ye,Ii,ul=rn(Me.triangleLower,.1)+"",Ai,Li,hl=rn(Me.triangleUpper,.1)+"",Di,Ni,cl=rn(Ne(Me.triangleLower),.1)+"",Pi,Hi,dl=rn(Ne(Me.triangleLower),.1)/Re+"",zi,Vi,gl=rn(Ne(Me.triangleUpper),.1)+"",Ui,Bi,ml=rn(Ne(Me.triangleUpper),.1)/Re+"",Fi,qi,Gi,wt,Wi,$t,qe,tt,nt,_l="",xi,yt,pl="Planes",Yi,it,rt,vl="",Xi,bt,wl="HSR",ji,lt,at,yl="",Ki,Rt,bl="Cars",Zi,Ct,Rl="Airline routes that would be faster on HSR",Ji,Tt,Ke,ot,Qi,st,ft,$i,St,er,Et,Cl=`<p>The left histogram below shows the distribution of total flight times for all flights in 2023, with the flights that fall within our Time Triangle highlighted in green.
			The right histogram below shows the theoretical distribution of total travel times when HSR is taken for these Time Triangle flights instead.</p>`,tr,Ze,Mt,nr,kt,ir,Ot,Tl="<p>The below bar chart compares the travel time breakdown for flights and HSR for the Time Triangle distances.</p>",rr,It,At,lr,Lt,Sl="Which of these HSR routes should we build first?",ar,Dt,El=`<p>To determine which of the potential rail lines would have the most impact, and thus should be focused on first, we built a mathematical model called an Iterative Gravity Model.
				Based on our model we propose 30 HSR lines. We note that our model was influenced by the Gravity Model presented in a YouTube video by CityNerd titled <a href="https://www.youtube.com/watch?v=wE5G1kTndI4">&quot;56 High Speed Rail Links We Should&#39;ve Built Already.&quot;</a>
				Highly recommend checking out his video as it was the inspiration for our time triangle and iterative gravity model.
				The gravity model as he presented is modeled after the <a href="https://en.wikipedia.org/wiki/Newton&#39;s_law_of_universal_gravitation">equation for gravity</a>. CityNerd calculates the gravity score by multiplying the population of the 2 cities, and divides by the distance between them squared. This mimics the equation for gravity by relating the &quot;mass&quot; of the two objects with the population of cities.
				<br/>
				We improve upon this basic gravity model in two ways:</p> <ol><li>For the part of the equation representing “attractive force,” instead of using population as a proxy for where people want to travel, we use an actual figure that represents this: total annual passengers from US flight data.</li> <li>Our model is aware of already proposed rail when determining where rail should be placed next. <br/>
						Consider the following hypothetical: 
						Suppose rail between New York City and Boston was already proposed, and now the model is considering connecting Washington, D.C. to Boston.
						The basic gravity model, when computing the score for connecting Washington, D.C. to Boston, considers building a line the entire way from Washington, D.C. to Boston. However, only building rail between
						Washington, D.C. and New York City is required since New York City and Boston have already been connected by HSR. In addition, if we connect Washington, D.C. to Boston, we also are also connecting Washington, D.C. to New York City so we should get the score for both of these, which the basic gravity model does not account for.
						<br/><br/>
						The Iterative Gravity model fixes both of these awareness issues by first considering the direct connection and all possibilities of connecting two cities using existing rails. Secondly, the score is now the sum of all scores for all the newly connected cities divided by the length of newly built rail line built.</li></ol>`,or,Nt,Ml="Proposed HSR",sr,Je,ut,fr,Pt,ur,Ht,kl="Intersection with current rail",hr,zt,Ol=`<p>As explained above the Amtrak it does not meet the qualification for HSR. 
			Nonetheless, we can use the locations of these rail lines to make development of HSR cheaper by saving on clearing costs.
			The below maps compare our proposed HSR routes and the existing Amtrak rail lines, all the cities identified with our Iterative Gravity Model are labeled.</p>`,cr,Qe,Vt,dr,Ut,gr,Bt,Il="What Now?",mr,Ft,Al='<p>Want to learn more? go to these resources @cityNerd</p> <p>Want to play around with the data or learn more in depth about our computational model? click <a href="https://github.com/DustinLin/datavisTrainsPlanes">here</a>.</p> <p>Want to show others? takes these steps: Share our and other resources with others</p>',Vn;return p=new Sr({props:{map:e[1],cities:e[9],cityCordMap:e[2],showCityName:!1,dims:e[10],onhover:e[7],highlightedRoute:e[0].highlightedRouteAll,mapId:"highlightedRouteAll"}}),w=new Er({props:{id:"totalFlightRoutesDisplay",highlightedRoute:e[0].highlightedRouteAll}}),I=new Sr({props:{map:e[1],cities:e[14],cityCordMap:e[2],onhover:e[7],showCityName:!0,dims:e[10],highlightedRoute:e[0].highlightedRoutePopular,mapId:"highlightedRoutePopular"}}),H=new Er({props:{highlightedRoute:e[0].highlightedRoutePopular}}),S=new ti({props:{dataset:e[3],feature:"PASSENGERS",xLabel:"Passengers (in millions)",color:"#88aed0",roundValue:100,orientation:"horizontal",unitConversion:e[13],firstX:10,stringFormatter:La,minDimSize:e[11],id:"stkBarChartPass",sort:!1}}),be=new ti({props:{dataset:e[19],feature:On,yLabel:"Travel Time Breakdown",xLabel:"Time (in minutes)",color:"#88aed0",roundValue:100,minDimSize:e[11]}}),ee=new kr({props:{dataset:e[16],yLabel:"Number of Flights in 2023",xLabel:"Total Time (in hours)",color:"#88aed0",triangleColor:"#88aed0",thresholds:e[17],maxBinSize:e[18],minDimSize:e[10]}}),wt=new Hu({}),ot=new Sr({props:{map:e[1],cities:e[12],cityCordMap:e[2],onhover:e[7],mapId:"highlightedRouteTriangle",highlightedRoute:e[0].highlightedRouteTriangle,showCityName:!1,dims:e[10]}}),ft=new Er({props:{highlightedRoute:e[0].highlightedRouteTriangle}}),St=new ti({props:{dataset:e[12],feature:"PASSENGERS",xLabel:"Passengers (millions)",color:"#88aed0",roundValue:100,orientation:"horizontal",unitConversion:e[13],firstX:10,stringFormatter:La,minDimSize:e[11],id:"stkBarChartPass",sort:!0}}),Mt=new kr({props:{dataset:e[16],xLabel:"Total Travel Time when Flying (hours)",yLabel:"Number of Trips",color:"#88aed0",triangleColor:"#cfe6ce",timeUnitConversion:Re,thresholds:e[17],maxBinSize:e[18],minDimSize:e[10]}}),kt=new kr({props:{dataset:e[16],xLabel:"Total Travel Time After HSR is Built)",yLabel:"Number of Trips",color:"#88aed0",triangleColor:"#cfe6ce",providedAccessorFunction:Tu,timeUnitConversion:Re,thresholds:e[17],maxBinSize:e[18],minDimSize:e[10]}}),At=new ti({props:{dataset:e[20],feature:On,xLabel:"Time (minutes)",color:"#88aed0",roundValue:100,orientation:"vertical",timeUnitConversion:Re,minDimSize:e[11]}}),ut=new qu({props:{map:e[1],cities:e[8],cityCordMap:e[2],dims:e[10],highlightedRoute:e[0].highlightedRouteBuilt}}),Pt=new Uu({props:{railLines:e[6][0],onhover:e[7],mapId:"highlightedRouteBuilt"}}),Vt=new xu({props:{map:e[1],cities:e[8],cityCordMap:e[2],cityAmtrakRouteMap:e[5],dims:e[10]}}),Ut=new Du({props:{map:e[1],railMap:e[4],cityCordMap:e[2],citiesPlotSet:e[15],dims:e[10]}}),{c(){t=z("div"),n=z("div"),n.innerHTML=i,r=F(),l=z("div"),a=z("h2"),a.textContent=o,g=F(),u=z("div"),f=z("p"),c=x("One of the most common, and seemingly most convenient, ways to travel long distances within the United States is by flying. In 2023, there were "),h=x(s),_=x(` unique flight routes within the continental US. 
			There are typically several flight options to travel between any two cities in the US that make flying an easy, flexible option. 
			In comparison, driving several hours is often not a viable option, especially for weekend trips, where time spent driving would nearly equal time spent at the actual destination. 
			Currently, options for rail travel are limited in many parts of the country and, due to the lack of high speed rail (HSR) in the US, taking a train does not save significant time compared to driving.`),y=F(),R=z("div"),ce(p.$$.fragment),b=F(),m=z("div"),ce(w.$$.fragment),M=F(),C=z("h2"),C.textContent=N,O=F(),k=z("div"),ce(I.$$.fragment),L=F(),E=z("div"),ce(H.$$.fragment),U=F(),ce(S.$$.fragment),B=F(),A=z("h2"),A.textContent=W,D=F(),ae=z("div"),ae.textContent=we,pe=F(),ie=z("div"),ce(be.$$.fragment),Z=F(),ce(ee.$$.fragment),Hn=F(),je=z("div"),je.innerHTML=zn,wn=F(),pt=z("h2"),pt.textContent=sl,ki=F(),vt=z("div"),vt.innerHTML=fl,Oi=F(),ze=z("div"),ye=z("p"),Ii=x(`To assess the potential benefits of implementing HSR in the US, we first determine the range of distances within which the fastest mode of travel would be HSR. 
				To calculate this sweet spot, we find a line of best fit for each of the three considered modes of transportation (car, HSR, and plane) and plot them on the graph shown on the right. 
				We call the area formed by the intersection of these lines the “Time Triangle,” which is plotted to the right. 
				The Time Triangle indicates that for distances between `),Ai=x(ul),Li=x(" miles and "),Di=x(hl),Ni=x(` miles (indicated by the solid grey lines), HSR is the fastest mode of transportation when factoring in all the main steps included with each method of travel. 
				These distances correspond to total travel times of `),Pi=x(cl),Hi=x(" minutes ("),zi=x(dl),Vi=x(" hours) and "),Ui=x(gl),Bi=x(" minutes ("),Fi=x(ml),qi=x(" hours) including all steps of flight travel, respectively (these are indicated by the dashed grey lines in the graph). We show the airline routes that would be traveled faster on HSR on the map below."),Gi=F(),ce(wt.$$.fragment),Wi=F(),$t=z("div"),qe=z("div"),tt=z("div"),nt=z("div"),nt.innerHTML=_l,xi=F(),yt=z("div"),yt.textContent=pl,Yi=F(),it=z("div"),rt=z("div"),rt.innerHTML=vl,Xi=F(),bt=z("div"),bt.textContent=wl,ji=F(),lt=z("div"),at=z("div"),at.innerHTML=yl,Ki=F(),Rt=z("div"),Rt.textContent=bl,Zi=F(),Ct=z("h2"),Ct.textContent=Rl,Ji=F(),Tt=z("div"),Ke=z("div"),ce(ot.$$.fragment),Qi=F(),st=z("div"),ce(ft.$$.fragment),$i=F(),ce(St.$$.fragment),er=F(),Et=z("div"),Et.innerHTML=Cl,tr=F(),Ze=z("div"),ce(Mt.$$.fragment),nr=F(),ce(kt.$$.fragment),ir=F(),Ot=z("div"),Ot.innerHTML=Tl,rr=F(),It=z("div"),ce(At.$$.fragment),lr=F(),Lt=z("h2"),Lt.textContent=Sl,ar=F(),Dt=z("div"),Dt.innerHTML=El,or=F(),Nt=z("h2"),Nt.textContent=Ml,sr=F(),Je=z("div"),ce(ut.$$.fragment),fr=F(),ce(Pt.$$.fragment),ur=F(),Ht=z("h2"),Ht.textContent=kl,hr=F(),zt=z("div"),zt.innerHTML=Ol,cr=F(),Qe=z("div"),ce(Vt.$$.fragment),dr=F(),ce(Ut.$$.fragment),gr=F(),Bt=z("h2"),Bt.textContent=Il,mr=F(),Ft=z("div"),Ft.innerHTML=Al,this.h()},l(X){t=V(X,"DIV",{class:!0});var Se=P(t);n=V(Se,"DIV",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-162r1d0"&&(n.innerHTML=i),r=q(Se),l=V(Se,"DIV",{class:!0});var G=P(l);a=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(a)!=="svelte-dc65or"&&(a.textContent=o),g=q(G),u=V(G,"DIV",{class:!0});var yn=P(u);f=V(yn,"P",{});var qt=P(f);c=Y(qt,"One of the most common, and seemingly most convenient, ways to travel long distances within the United States is by flying. In 2023, there were "),h=Y(qt,s),_=Y(qt,` unique flight routes within the continental US. 
			There are typically several flight options to travel between any two cities in the US that make flying an easy, flexible option. 
			In comparison, driving several hours is often not a viable option, especially for weekend trips, where time spent driving would nearly equal time spent at the actual destination. 
			Currently, options for rail travel are limited in many parts of the country and, due to the lack of high speed rail (HSR) in the US, taking a train does not save significant time compared to driving.`),qt.forEach(T),yn.forEach(T),y=q(G),R=V(G,"DIV",{class:!0,id:!0});var Gt=P(R);de(p.$$.fragment,Gt),b=q(Gt),m=V(Gt,"DIV",{class:!0});var bn=P(m);de(w.$$.fragment,bn),bn.forEach(T),Gt.forEach(T),M=q(G),C=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(C)!=="svelte-ytz771"&&(C.textContent=N),O=q(G),k=V(G,"DIV",{class:!0,id:!0});var Wt=P(k);de(I.$$.fragment,Wt),L=q(Wt),E=V(Wt,"DIV",{class:!0});var xt=P(E);de(H.$$.fragment,xt),U=q(xt),de(S.$$.fragment,xt),xt.forEach(T),Wt.forEach(T),B=q(G),A=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(A)!=="svelte-le66yy"&&(A.textContent=W),D=q(G),ae=V(G,"DIV",{class:!0,"data-svelte-h":!0}),oe(ae)!=="svelte-wum8z3"&&(ae.textContent=we),pe=q(G),ie=V(G,"DIV",{class:!0,id:!0});var Un=P(ie);de(be.$$.fragment,Un),Z=q(Un),de(ee.$$.fragment,Un),Un.forEach(T),Hn=q(G),je=V(G,"DIV",{class:!0,"data-svelte-h":!0}),oe(je)!=="svelte-11z2jbx"&&(je.innerHTML=zn),wn=q(G),pt=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(pt)!=="svelte-7g09cc"&&(pt.textContent=sl),ki=q(G),vt=V(G,"DIV",{class:!0,"data-svelte-h":!0}),oe(vt)!=="svelte-13zt062"&&(vt.innerHTML=fl),Oi=q(G),ze=V(G,"DIV",{class:!0,id:!0});var en=P(ze);ye=V(en,"P",{class:!0,id:!0});var Ee=P(ye);Ii=Y(Ee,`To assess the potential benefits of implementing HSR in the US, we first determine the range of distances within which the fastest mode of travel would be HSR. 
				To calculate this sweet spot, we find a line of best fit for each of the three considered modes of transportation (car, HSR, and plane) and plot them on the graph shown on the right. 
				We call the area formed by the intersection of these lines the “Time Triangle,” which is plotted to the right. 
				The Time Triangle indicates that for distances between `),Ai=Y(Ee,ul),Li=Y(Ee," miles and "),Di=Y(Ee,hl),Ni=Y(Ee,` miles (indicated by the solid grey lines), HSR is the fastest mode of transportation when factoring in all the main steps included with each method of travel. 
				These distances correspond to total travel times of `),Pi=Y(Ee,cl),Hi=Y(Ee," minutes ("),zi=Y(Ee,dl),Vi=Y(Ee," hours) and "),Ui=Y(Ee,gl),Bi=Y(Ee," minutes ("),Fi=Y(Ee,ml),qi=Y(Ee," hours) including all steps of flight travel, respectively (these are indicated by the dashed grey lines in the graph). We show the airline routes that would be traveled faster on HSR on the map below."),Ee.forEach(T),Gi=q(en),de(wt.$$.fragment,en),Wi=q(en),$t=V(en,"DIV",{class:!0});var Ll=P($t);qe=V(Ll,"DIV",{class:!0});var tn=P(qe);tt=V(tn,"DIV",{class:!0});var Bn=P(tt);nt=V(Bn,"DIV",{class:!0,"data-svelte-h":!0}),oe(nt)!=="svelte-twdjp0"&&(nt.innerHTML=_l),xi=q(Bn),yt=V(Bn,"DIV",{class:!0,"data-svelte-h":!0}),oe(yt)!=="svelte-myvn1o"&&(yt.textContent=pl),Bn.forEach(T),Yi=q(tn),it=V(tn,"DIV",{class:!0});var Fn=P(it);rt=V(Fn,"DIV",{class:!0,"data-svelte-h":!0}),oe(rt)!=="svelte-1w8z2u4"&&(rt.innerHTML=vl),Xi=q(Fn),bt=V(Fn,"DIV",{class:!0,"data-svelte-h":!0}),oe(bt)!=="svelte-3duas2"&&(bt.textContent=wl),Fn.forEach(T),ji=q(tn),lt=V(tn,"DIV",{class:!0});var qn=P(lt);at=V(qn,"DIV",{class:!0,"data-svelte-h":!0}),oe(at)!=="svelte-hm2uig"&&(at.innerHTML=yl),Ki=q(qn),Rt=V(qn,"DIV",{class:!0,"data-svelte-h":!0}),oe(Rt)!=="svelte-r1dxwc"&&(Rt.textContent=bl),qn.forEach(T),tn.forEach(T),Ll.forEach(T),en.forEach(T),Zi=q(G),Ct=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(Ct)!=="svelte-10dvn34"&&(Ct.textContent=Rl),Ji=q(G),Tt=V(G,"DIV",{class:!0,id:!0});var Dl=P(Tt);Ke=V(Dl,"DIV",{class:!0,id:!0});var Gn=P(Ke);de(ot.$$.fragment,Gn),Qi=q(Gn),st=V(Gn,"DIV",{class:!0});var Wn=P(st);de(ft.$$.fragment,Wn),$i=q(Wn),de(St.$$.fragment,Wn),Wn.forEach(T),Gn.forEach(T),Dl.forEach(T),er=q(G),Et=V(G,"DIV",{class:!0,"data-svelte-h":!0}),oe(Et)!=="svelte-13dco1t"&&(Et.innerHTML=Cl),tr=q(G),Ze=V(G,"DIV",{class:!0,id:!0});var xn=P(Ze);de(Mt.$$.fragment,xn),nr=q(xn),de(kt.$$.fragment,xn),xn.forEach(T),ir=q(G),Ot=V(G,"DIV",{class:!0,"data-svelte-h":!0}),oe(Ot)!=="svelte-1hcku1d"&&(Ot.innerHTML=Tl),rr=q(G),It=V(G,"DIV",{class:!0,id:!0});var Nl=P(It);de(At.$$.fragment,Nl),Nl.forEach(T),lr=q(G),Lt=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(Lt)!=="svelte-6bnc14"&&(Lt.textContent=Sl),ar=q(G),Dt=V(G,"DIV",{class:!0,"data-svelte-h":!0}),oe(Dt)!=="svelte-n48m6t"&&(Dt.innerHTML=El),or=q(G),Nt=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(Nt)!=="svelte-1rtwwht"&&(Nt.textContent=Ml),sr=q(G),Je=V(G,"DIV",{class:!0,id:!0});var Yn=P(Je);de(ut.$$.fragment,Yn),fr=q(Yn),de(Pt.$$.fragment,Yn),Yn.forEach(T),ur=q(G),Ht=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(Ht)!=="svelte-wmkdo"&&(Ht.textContent=kl),hr=q(G),zt=V(G,"DIV",{class:!0,"data-svelte-h":!0}),oe(zt)!=="svelte-1y043ng"&&(zt.innerHTML=Ol),cr=q(G),Qe=V(G,"DIV",{class:!0,id:!0});var Xn=P(Qe);de(Vt.$$.fragment,Xn),dr=q(Xn),de(Ut.$$.fragment,Xn),Xn.forEach(T),gr=q(G),Bt=V(G,"H2",{class:!0,"data-svelte-h":!0}),oe(Bt)!=="svelte-51amv3"&&(Bt.textContent=Il),mr=q(G),Ft=V(G,"DIV",{class:!0,"data-svelte-h":!0}),oe(Ft)!=="svelte-1y0wver"&&(Ft.innerHTML=Al),G.forEach(T),Se.forEach(T),this.h()},h(){d(n,"class","pageHeader svelte-51pmeo"),d(a,"class","svelte-51pmeo"),d(u,"class","paragraphWrapper svelte-51pmeo"),d(m,"class","stackBox svelte-51pmeo"),d(R,"class","infoMap svelte-51pmeo"),d(R,"id","allRoutes"),d(C,"class","svelte-51pmeo"),d(E,"class","stackBox svelte-51pmeo"),d(k,"class","infoMap svelte-51pmeo"),d(k,"id","popularAirlines"),d(A,"class","svelte-51pmeo"),d(ae,"class","paragraphWrapper svelte-51pmeo"),d(ie,"class","infoMap svelte-51pmeo"),d(ie,"id","airlineTimes"),d(je,"class","paragraphWrapper svelte-51pmeo"),d(pt,"class","svelte-51pmeo"),d(vt,"class","paragraphWrapper svelte-51pmeo"),d(ye,"class","paragraphWrapper svelte-51pmeo"),d(ye,"id","timeTriangleText"),d(nt,"class","square svelte-51pmeo"),sn(nt,"background-color",te.PLANE_COLOR),d(yt,"class","swatch-text svelte-51pmeo"),d(tt,"class","swatch svelte-51pmeo"),d(rt,"class","square svelte-51pmeo"),sn(rt,"background-color",te.TRAIN_COLOR),d(bt,"class","swatch-text svelte-51pmeo"),d(it,"class","swatch svelte-51pmeo"),d(at,"class","square svelte-51pmeo"),sn(at,"background-color",te.CAR_COLOR),d(Rt,"class","swatch-text svelte-51pmeo"),d(lt,"class","swatch svelte-51pmeo"),d(qe,"class","swatches svelte-51pmeo"),d($t,"class","stackBox svelte-51pmeo"),d(ze,"class","infoMap svelte-51pmeo"),d(ze,"id","timeTriangle"),d(Ct,"class","svelte-51pmeo"),d(st,"class","stackBox svelte-51pmeo"),d(Ke,"class","infoMap svelte-51pmeo"),d(Ke,"id","airlineSpeedUp"),d(Tt,"class","infoMap svelte-51pmeo"),d(Tt,"id","fasterRoutes"),d(Et,"class","paragraphWrapper svelte-51pmeo"),d(Ze,"class","infoMap svelte-51pmeo"),d(Ze,"id","modifiedHistograms"),d(Ot,"class","paragraphWrapper svelte-51pmeo"),d(It,"class","infoMap svelte-51pmeo"),d(It,"id","comparisonBarChart"),d(Lt,"class","svelte-51pmeo"),d(Dt,"class","paragraphWrapper svelte-51pmeo"),d(Nt,"class","svelte-51pmeo"),d(Je,"class","infoMap svelte-51pmeo"),d(Je,"id","proposedHSRMap"),d(Ht,"class","svelte-51pmeo"),d(zt,"class","paragraphWrapper svelte-51pmeo"),d(Qe,"class","infoMap svelte-51pmeo"),d(Qe,"id","railIntersection"),d(Bt,"class","svelte-51pmeo"),d(Ft,"class","paragraphWrapper svelte-51pmeo"),d(l,"class","main svelte-51pmeo"),d(t,"class","container svelte-51pmeo")},m(X,Se){J(X,t,Se),v(t,n),v(t,r),v(t,l),v(l,a),v(l,g),v(l,u),v(u,f),v(f,c),v(f,h),v(f,_),v(l,y),v(l,R),ge(p,R,null),v(R,b),v(R,m),ge(w,m,null),v(l,M),v(l,C),v(l,O),v(l,k),ge(I,k,null),v(k,L),v(k,E),ge(H,E,null),v(E,U),ge(S,E,null),v(l,B),v(l,A),v(l,D),v(l,ae),v(l,pe),v(l,ie),ge(be,ie,null),v(ie,Z),ge(ee,ie,null),v(l,Hn),v(l,je),v(l,wn),v(l,pt),v(l,ki),v(l,vt),v(l,Oi),v(l,ze),v(ze,ye),v(ye,Ii),v(ye,Ai),v(ye,Li),v(ye,Di),v(ye,Ni),v(ye,Pi),v(ye,Hi),v(ye,zi),v(ye,Vi),v(ye,Ui),v(ye,Bi),v(ye,Fi),v(ye,qi),v(ze,Gi),ge(wt,ze,null),v(ze,Wi),v(ze,$t),v($t,qe),v(qe,tt),v(tt,nt),v(tt,xi),v(tt,yt),v(qe,Yi),v(qe,it),v(it,rt),v(it,Xi),v(it,bt),v(qe,ji),v(qe,lt),v(lt,at),v(lt,Ki),v(lt,Rt),v(l,Zi),v(l,Ct),v(l,Ji),v(l,Tt),v(Tt,Ke),ge(ot,Ke,null),v(Ke,Qi),v(Ke,st),ge(ft,st,null),v(st,$i),ge(St,st,null),v(l,er),v(l,Et),v(l,tr),v(l,Ze),ge(Mt,Ze,null),v(Ze,nr),ge(kt,Ze,null),v(l,ir),v(l,Ot),v(l,rr),v(l,It),ge(At,It,null),v(l,lr),v(l,Lt),v(l,ar),v(l,Dt),v(l,or),v(l,Nt),v(l,sr),v(l,Je),ge(ut,Je,null),v(Je,fr),ge(Pt,Je,null),v(l,ur),v(l,Ht),v(l,hr),v(l,zt),v(l,cr),v(l,Qe),ge(Vt,Qe,null),v(Qe,dr),ge(Ut,Qe,null),v(l,gr),v(l,Bt),v(l,mr),v(l,Ft),Vn=!0},p(X,Se){const G={};Se[0]&1&&(G.highlightedRoute=X[0].highlightedRouteAll),p.$set(G);const yn={};Se[0]&1&&(yn.highlightedRoute=X[0].highlightedRouteAll),w.$set(yn);const qt={};Se[0]&1&&(qt.highlightedRoute=X[0].highlightedRoutePopular),I.$set(qt);const Gt={};Se[0]&1&&(Gt.highlightedRoute=X[0].highlightedRoutePopular),H.$set(Gt);const bn={};Se[0]&1&&(bn.highlightedRoute=X[0].highlightedRouteTriangle),ot.$set(bn);const Wt={};Se[0]&1&&(Wt.highlightedRoute=X[0].highlightedRouteTriangle),ft.$set(Wt);const xt={};Se[0]&1&&(xt.highlightedRoute=X[0].highlightedRouteBuilt),ut.$set(xt)},i(X){Vn||(se(p.$$.fragment,X),se(w.$$.fragment,X),se(I.$$.fragment,X),se(H.$$.fragment,X),se(S.$$.fragment,X),se(be.$$.fragment,X),se(ee.$$.fragment,X),se(wt.$$.fragment,X),se(ot.$$.fragment,X),se(ft.$$.fragment,X),se(St.$$.fragment,X),se(Mt.$$.fragment,X),se(kt.$$.fragment,X),se(At.$$.fragment,X),se(ut.$$.fragment,X),se(Pt.$$.fragment,X),se(Vt.$$.fragment,X),se(Ut.$$.fragment,X),Vn=!0)},o(X){fe(p.$$.fragment,X),fe(w.$$.fragment,X),fe(I.$$.fragment,X),fe(H.$$.fragment,X),fe(S.$$.fragment,X),fe(be.$$.fragment,X),fe(ee.$$.fragment,X),fe(wt.$$.fragment,X),fe(ot.$$.fragment,X),fe(ft.$$.fragment,X),fe(St.$$.fragment,X),fe(Mt.$$.fragment,X),fe(kt.$$.fragment,X),fe(At.$$.fragment,X),fe(ut.$$.fragment,X),fe(Pt.$$.fragment,X),fe(Vt.$$.fragment,X),fe(Ut.$$.fragment,X),Vn=!1},d(X){X&&T(t),me(p),me(w),me(I),me(H),me(S),me(be),me(ee),me(wt),me(ot),me(ft),me(St),me(Mt),me(kt),me(At),me(ut),me(Pt),me(Vt),me(Ut)}}}const Re=60,On="time";function Zu(e,t,n){let{data:i}=t;const r=i.dataPayload.usaGeo,l=i.dataPayload.cityCordMap;i.dataPayload.amtrakMap;const a=i.dataPayload.filteredCityPairToInfo,o=i.dataPayload.amtrakMapSimp,g=i.dataPayload.cityAmtrakRouteMap,u=i.dataPayload.gravityTopResRoutes;let f={highlightedRouteAll:null,highlightedRoutePopular:null,highlightedRouteTriangle:null,highlightedRouteBuilt:null};function c(Z,ee){Z===null?n(0,f[ee]=null,f):n(0,f[ee]=Z,f)}let s=u[0].slice(0,Me.topGravNumber),h=a,_=[500,500],y=[500,400],R=a.filter(Z=>Z[1].DISTANCE>=Me.triangleLower&&Z[1].DISTANCE<=Me.triangleUpper);console.log(`there is a diff between all routes and triangle routes: ${h.length}, ${R.length}`);const p=1e3*1e3;let b=a.sort(([Z,ee],[Hn,je])=>{const zn=ee.PASSENGERS,wn=je.PASSENGERS;return Qr(zn,wn)}).slice(0,Me.topRoutesNumber),m=new Set;s.forEach(Z=>{m.add($(Z)[0]),m.add($(Z)[1])});let w=a.map(([Z,ee])=>[Z,{AVG_TOTAL_TIME:es(ee.RAMP_TO_RAMP/ee.DEPARTURES_PERFORMED)/Re,AVG_TOTAL_FLIGHT_TIME:ee.RAMP_TO_RAMP/ee.DEPARTURES_PERFORMED/Re,AVG_AIR_TIME:ee.AIR_TIME/ee.DEPARTURES_PERFORMED/Re,DISTANCE:ee.DISTANCE,NUM_DEPARTURES:ee.DEPARTURES_PERFORMED}]),M=[];const C=30/Re,N=Cu(_t(w,Z=>Z[1].AVG_TOTAL_TIME),C);for(let Z=0;Z<=N;Z+=C)M.push(Z);const O=1.7*1e3*1e3;let k=w.filter(([Z,ee])=>Si(ee.AVG_TOTAL_TIME*Re)),I=k.map(([Z,ee])=>[Z,{AVG_TOTAL_TIME:si(ee.DISTANCE)/Re,DISTANCE:ee.DISTANCE,NUM_DEPARTURES:ee.NUM_DEPARTURES}]),L=Rn(w.map(([Z,ee])=>ee.AVG_TOTAL_FLIGHT_TIME)),E=Rn(w.map(([Z,ee])=>ee.AVG_AIR_TIME)),H=L-E,U=[["Travel to/from airport",{time:hn.plane}],["Time in Airport",{time:un.plane}],["Average Airplane Time on Ground",{time:H*Re}],["Average Airplane Time in Air",{time:E*Re}]];const S=Xt(U,Z=>Z[1][On]);U.push(["Plane Total Time",{time:S}]);let B=Rn(k.map(([Z,ee])=>ee.AVG_TOTAL_FLIGHT_TIME)),A=Rn(I.map(([Z,ee])=>ee.AVG_TOTAL_TIME)),W=Rn(k.map(([Z,ee])=>ee.AVG_AIR_TIME)),D=B-W,ae=[["Travel to/from airport",{time:hn.plane}],["Time in Airport",{time:un.plane}],["Average Airplane Time on Ground",{time:D*Re}],["Average Airplane Time in Air",{time:W*Re}]];const we=Xt(ae,Z=>Z[1][On]);ae.push(["Plane Total Time",{time:we}]);let pe=[["Travel to/from train station",{time:hn.train,color:te.TRAIN_COLOR}],["Time in station",{time:un.train,color:te.TRAIN_COLOR}],["Average Train Startup Time",{time:si(0),color:te.TRAIN_COLOR}],["Average Train Travel Time",{time:A*Re-si(0),color:te.TRAIN_COLOR}]];const ie=Xt(pe,Z=>Z[1][On]);pe.push(["Train Total Time",{time:ie,color:te.TRAIN_COLOR}]);const be=[];return ae.map(function(Z,ee){return be.push(Z),be.push(pe[ee]),[Z,pe[ee]]}),e.$$set=Z=>{"data"in Z&&n(21,i=Z.data)},[f,r,l,a,o,g,u,c,s,h,_,y,R,p,b,m,w,M,O,U,be,i]}class th extends Be{constructor(t){super(),Fe(this,t,Zu,Ku,He,{data:21},null,[-1,-1])}}export{th as component,$u as universal};
